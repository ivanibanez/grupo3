--------------------------------------------------------
-- Archivo creado  - martes-septiembre-01-2015   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Type PERSONA_POLIZA
--------------------------------------------------------

  CREATE OR REPLACE TYPE "ESCUELASOA3"."PERSONA_POLIZA" IS RECORD (
    id_poliza  poliza.id_poliza%TYPE,
    nombre     persona.nombre%TYPE,
    apellido   persona.apellido%TYPE,
    tipodoc    persona.tipodoc%TYPE,
    nrodoc     persona.nrodoc%TYPE,
    email      persona.email%TYPE
  );
END
create or replace FUNCTION get_persona_poliza (idpoliza NUMBER)
  RETURN persona_poliza IS  
  info    persona_poliza;
BEGIN
  SELECT po.id_poliza, pe.nombre, pe.apellido, pe.tipodoc, pe.nrodoc, pe.email 
  INTO info 
  FROM polizaindividual po
  INNER JOIN empleado e ON e.id_empleado = po.id_empleado
  INNER JOIN persona pe ON pe.id_persona = e.id_persona
  WHERE po.id_poliza = idpoliza;
  
  RETURN ( info);

END get_persona_poliza;


/*
   función que me devuelva registro persona poliza
que tenga id_poliza, tipo poliza, nombre cliente, apellido, tipo, nro doc, dato de contacto*/

/
--------------------------------------------------------
--  DDL for Type SINIESTROINFO
--------------------------------------------------------

  CREATE OR REPLACE TYPE "ESCUELASOA3"."SINIESTROINFO" as object (
  idsiniestro NUMBER,
  descripcion VARCHAR2(255)
);

/
--------------------------------------------------------
--  DDL for Sequence COBERTURA_RIESGO_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "ESCUELASOA3"."COBERTURA_RIESGO_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence COBERTURA_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "ESCUELASOA3"."COBERTURA_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence DIRECCION_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "ESCUELASOA3"."DIRECCION_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 41 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence EMPLEADO_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "ESCUELASOA3"."EMPLEADO_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence EMPRESA_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "ESCUELASOA3"."EMPRESA_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence GRUPO_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "ESCUELASOA3"."GRUPO_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence LOCALIDAD_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "ESCUELASOA3"."LOCALIDAD_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence NIVELRIESGO_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "ESCUELASOA3"."NIVELRIESGO_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence PAIS_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "ESCUELASOA3"."PAIS_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence PERSONA_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "ESCUELASOA3"."PERSONA_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 41 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence PLAN_COBERTURA_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "ESCUELASOA3"."PLAN_COBERTURA_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence PLAN_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "ESCUELASOA3"."PLAN_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence POLIZA_COBERTURA_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "ESCUELASOA3"."POLIZA_COBERTURA_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence POLIZACOLECTIVA_COBERTURA_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "ESCUELASOA3"."POLIZACOLECTIVA_COBERTURA_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence POLIZACOLECTIVA_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "ESCUELASOA3"."POLIZACOLECTIVA_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence POLIZAINDIVIDUAL_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "ESCUELASOA3"."POLIZAINDIVIDUAL_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence PRODUCTOR_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "ESCUELASOA3"."PRODUCTOR_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence PROVINCIA_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "ESCUELASOA3"."PROVINCIA_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence PUESTOTRABAJO_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "ESCUELASOA3"."PUESTOTRABAJO_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence RIESGO_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "ESCUELASOA3"."RIESGO_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence RUBRO_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "ESCUELASOA3"."RUBRO_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence SINIESTRO_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "ESCUELASOA3"."SINIESTRO_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence TELEFONO_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "ESCUELASOA3"."TELEFONO_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence TESTIFICA_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "ESCUELASOA3"."TESTIFICA_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence ZONACOBERTURA_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "ESCUELASOA3"."ZONACOBERTURA_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Table COBERTURA
--------------------------------------------------------

  CREATE TABLE "ESCUELASOA3"."COBERTURA" 
   (	"ID_COBERTURA" NUMBER, 
	"DESCRIPCION" VARCHAR2(255 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table COBERTURA_RIESGO
--------------------------------------------------------

  CREATE TABLE "ESCUELASOA3"."COBERTURA_RIESGO" 
   (	"ID_COBERTURA" NUMBER, 
	"ID_RIESGO" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table DIRECCION
--------------------------------------------------------

  CREATE TABLE "ESCUELASOA3"."DIRECCION" 
   (	"ID_DIRECCION" NUMBER, 
	"CALLE" VARCHAR2(255 BYTE), 
	"NUMERO" NUMBER, 
	"PISO" NUMBER, 
	"DEPARTAMENTO" VARCHAR2(255 BYTE), 
	"ID_LOCALIDAD" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table EMPLEADO
--------------------------------------------------------

  CREATE TABLE "ESCUELASOA3"."EMPLEADO" 
   (	"ID_EMPLEADO" NUMBER, 
	"CUIL" NUMBER, 
	"NROLEGAJO" NUMBER, 
	"ID_EMPRESA" NUMBER, 
	"ID_PERSONA" NUMBER, 
	"ID_PUESTOTRABAJO" NUMBER, 
	"ID_GRUPO" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table EMPRESA
--------------------------------------------------------

  CREATE TABLE "ESCUELASOA3"."EMPRESA" 
   (	"RAZONSOCIAL" VARCHAR2(255 BYTE), 
	"CUIT" NUMBER, 
	"ID_EMPRESA" NUMBER, 
	"ID_DIRECCION" NUMBER, 
	"ID_RUBRO" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table GRUPO
--------------------------------------------------------

  CREATE TABLE "ESCUELASOA3"."GRUPO" 
   (	"ID_GRUPO" NUMBER, 
	"DESCRIPCION" VARCHAR2(255 BYTE), 
	"POLIZACOLECTIVA_ID_PC" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table LOCALIDAD
--------------------------------------------------------

  CREATE TABLE "ESCUELASOA3"."LOCALIDAD" 
   (	"ID_LOCALIDAD" NUMBER, 
	"NOMBRE" VARCHAR2(255 BYTE), 
	"CODIGOPOSTAL" NUMBER, 
	"ID_PROVINCIA" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table NIVELRIESGO
--------------------------------------------------------

  CREATE TABLE "ESCUELASOA3"."NIVELRIESGO" 
   (	"ID_NIVELRIESGO" NUMBER, 
	"DESCRIPCION" VARCHAR2(255 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table PAIS
--------------------------------------------------------

  CREATE TABLE "ESCUELASOA3"."PAIS" 
   (	"ID_PAIS" NUMBER, 
	"NOMBRE" VARCHAR2(255 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table PERSONA
--------------------------------------------------------

  CREATE TABLE "ESCUELASOA3"."PERSONA" 
   (	"ID_PERSONA" NUMBER, 
	"TIPODOC" VARCHAR2(255 BYTE), 
	"NRODOC" VARCHAR2(255 BYTE), 
	"NOMBRE" VARCHAR2(255 BYTE), 
	"APELLIDO" VARCHAR2(255 BYTE), 
	"EMAIL" VARCHAR2(255 BYTE), 
	"ID_DIRECCION" NUMBER, 
	"FECHANACIMIENTO" DATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table PLAN
--------------------------------------------------------

  CREATE TABLE "ESCUELASOA3"."PLAN" 
   (	"ID_PLAN" NUMBER, 
	"NOMBRE" VARCHAR2(255 BYTE), 
	"DESCRIPCION" VARCHAR2(255 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table PLAN_COBERTURA
--------------------------------------------------------

  CREATE TABLE "ESCUELASOA3"."PLAN_COBERTURA" 
   (	"ID_PLAN" NUMBER, 
	"ID_COBERTURA" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table POLIZA_COBERTURA
--------------------------------------------------------

  CREATE TABLE "ESCUELASOA3"."POLIZA_COBERTURA" 
   (	"ID_POLIZA" NUMBER, 
	"ID_COBERTURA" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table POLIZACOLECTIVA
--------------------------------------------------------

  CREATE TABLE "ESCUELASOA3"."POLIZACOLECTIVA" 
   (	"FECHACONTRATO" DATE, 
	"FECHAINICIOVALIDEZ" DATE, 
	"FECHAFINVALIDEZ" DATE, 
	"PRIMA" NUMBER, 
	"PREMIO" NUMBER, 
	"COMISION" NUMBER, 
	"ID_POLIZACOLECTIVA" NUMBER, 
	"ID_PRODUCTOR" NUMBER, 
	"ID_ZONACOBERTURA" NUMBER, 
	"ID_EMPRESA" NUMBER, 
	"ID_PLAN" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table POLIZACOLECTIVA_COBERTURA
--------------------------------------------------------

  CREATE TABLE "ESCUELASOA3"."POLIZACOLECTIVA_COBERTURA" 
   (	"POLIZACOLECTIVA_ID_PC" NUMBER, 
	"ID_COBERTURA" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table POLIZAINDIVIDUAL
--------------------------------------------------------

  CREATE TABLE "ESCUELASOA3"."POLIZAINDIVIDUAL" 
   (	"FECHACONTRATO" DATE, 
	"FECHAINICIOVALIDEZ" DATE, 
	"FECHAFINVALIDEZ" DATE, 
	"PRIMA" NUMBER, 
	"PREMIO" NUMBER, 
	"COMISION" NUMBER, 
	"ID_POLIZAINDIVIDUAL" NUMBER, 
	"ID_EMPRESA" NUMBER, 
	"ID_ZONACOBERTURA" NUMBER, 
	"ID_PRODUCTOR" NUMBER, 
	"ID_PLAN" NUMBER, 
	"ID_EMPLEADO" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table PRODUCTOR
--------------------------------------------------------

  CREATE TABLE "ESCUELASOA3"."PRODUCTOR" 
   (	"ID_PRODUCTOR" NUMBER, 
	"ID_PERSONA" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table PROVINCIA
--------------------------------------------------------

  CREATE TABLE "ESCUELASOA3"."PROVINCIA" 
   (	"ID_PROVINCIA" NUMBER, 
	"NOMBRE" VARCHAR2(255 BYTE), 
	"ID_PAIS" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table PUESTOTRABAJO
--------------------------------------------------------

  CREATE TABLE "ESCUELASOA3"."PUESTOTRABAJO" 
   (	"ID_PUESTOTRABAJO" NUMBER, 
	"DESCRIPCION" VARCHAR2(255 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table RIESGO
--------------------------------------------------------

  CREATE TABLE "ESCUELASOA3"."RIESGO" 
   (	"ID_RIESGO" NUMBER, 
	"VALOR" NUMBER, 
	"FECHAINICIO" DATE, 
	"FECHAFIN" DATE, 
	"ID_NIVELRIESGO" NUMBER, 
	"ID_ZONACOBERTURA" NUMBER, 
	"ID_PUESTOTRABAJO" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table RUBRO
--------------------------------------------------------

  CREATE TABLE "ESCUELASOA3"."RUBRO" 
   (	"ID_RUBRO" NUMBER, 
	"NOMBRE" VARCHAR2(255 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table SINIESTRO
--------------------------------------------------------

  CREATE TABLE "ESCUELASOA3"."SINIESTRO" 
   (	"ID_SINIESTRO" NUMBER, 
	"DESCRIPCION" VARCHAR2(255 BYTE), 
	"FECHA" DATE, 
	"COSTO" NUMBER, 
	"ID_COBERTURA" NUMBER, 
	"ID_PUESTOTRABAJO" NUMBER, 
	"ID_POLIZA" NUMBER, 
	"ID_EMPLEADO" NUMBER, 
	"ID_ZONACOBERTURA" NUMBER, 
	"POLIZACOLECTIVA_ID_PC" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table TELEFONO
--------------------------------------------------------

  CREATE TABLE "ESCUELASOA3"."TELEFONO" 
   (	"ID_TELEFONO" NUMBER, 
	"TIPO" VARCHAR2(255 BYTE), 
	"NUMERO" NUMBER, 
	"ID_PERSONA" NUMBER, 
	"ID_EMPRESA" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table TESTIFICA
--------------------------------------------------------

  CREATE TABLE "ESCUELASOA3"."TESTIFICA" 
   (	"ID_PERSONA" NUMBER, 
	"ID_SINIESTRO" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table ZONACOBERTURA
--------------------------------------------------------

  CREATE TABLE "ESCUELASOA3"."ZONACOBERTURA" 
   (	"ID_ZONACOBERTURA" NUMBER, 
	"NOMBRE" VARCHAR2(255 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
REM INSERTING into ESCUELASOA3.COBERTURA
SET DEFINE OFF;
Insert into ESCUELASOA3.COBERTURA (ID_COBERTURA,DESCRIPCION) values ('1','Hernias inguinales directas y mixtas (excluyendo las indirectas)');
Insert into ESCUELASOA3.COBERTURA (ID_COBERTURA,DESCRIPCION) values ('2','Hernias crurales');
Insert into ESCUELASOA3.COBERTURA (ID_COBERTURA,DESCRIPCION) values ('3','Várices primitivas bilaterales.');
REM INSERTING into ESCUELASOA3.COBERTURA_RIESGO
SET DEFINE OFF;
Insert into ESCUELASOA3.COBERTURA_RIESGO (ID_COBERTURA,ID_RIESGO) values ('1','1');
Insert into ESCUELASOA3.COBERTURA_RIESGO (ID_COBERTURA,ID_RIESGO) values ('1','2');
Insert into ESCUELASOA3.COBERTURA_RIESGO (ID_COBERTURA,ID_RIESGO) values ('1','3');
Insert into ESCUELASOA3.COBERTURA_RIESGO (ID_COBERTURA,ID_RIESGO) values ('2','1');
Insert into ESCUELASOA3.COBERTURA_RIESGO (ID_COBERTURA,ID_RIESGO) values ('2','2');
Insert into ESCUELASOA3.COBERTURA_RIESGO (ID_COBERTURA,ID_RIESGO) values ('2','3');
Insert into ESCUELASOA3.COBERTURA_RIESGO (ID_COBERTURA,ID_RIESGO) values ('3','1');
Insert into ESCUELASOA3.COBERTURA_RIESGO (ID_COBERTURA,ID_RIESGO) values ('3','2');
Insert into ESCUELASOA3.COBERTURA_RIESGO (ID_COBERTURA,ID_RIESGO) values ('3','3');
REM INSERTING into ESCUELASOA3.DIRECCION
SET DEFINE OFF;
Insert into ESCUELASOA3.DIRECCION (ID_DIRECCION,CALLE,NUMERO,PISO,DEPARTAMENTO,ID_LOCALIDAD) values ('1','Gral.Hornos','1856',null,null,'1');
Insert into ESCUELASOA3.DIRECCION (ID_DIRECCION,CALLE,NUMERO,PISO,DEPARTAMENTO,ID_LOCALIDAD) values ('2','Av.Corrientes','485','2',null,'4');
Insert into ESCUELASOA3.DIRECCION (ID_DIRECCION,CALLE,NUMERO,PISO,DEPARTAMENTO,ID_LOCALIDAD) values ('3','Av.Pueyrredon','4454',null,null,'4');
Insert into ESCUELASOA3.DIRECCION (ID_DIRECCION,CALLE,NUMERO,PISO,DEPARTAMENTO,ID_LOCALIDAD) values ('4','Medrano','1542','5','8','4');
Insert into ESCUELASOA3.DIRECCION (ID_DIRECCION,CALLE,NUMERO,PISO,DEPARTAMENTO,ID_LOCALIDAD) values ('5','av.cordoba','3432',null,null,'5');
Insert into ESCUELASOA3.DIRECCION (ID_DIRECCION,CALLE,NUMERO,PISO,DEPARTAMENTO,ID_LOCALIDAD) values ('6','canada','3342',null,null,'2');
Insert into ESCUELASOA3.DIRECCION (ID_DIRECCION,CALLE,NUMERO,PISO,DEPARTAMENTO,ID_LOCALIDAD) values ('7','enrique fernandez','654',null,null,'5');
Insert into ESCUELASOA3.DIRECCION (ID_DIRECCION,CALLE,NUMERO,PISO,DEPARTAMENTO,ID_LOCALIDAD) values ('8','mendoza','234',null,null,'5');
Insert into ESCUELASOA3.DIRECCION (ID_DIRECCION,CALLE,NUMERO,PISO,DEPARTAMENTO,ID_LOCALIDAD) values ('9','av.cordoba','34',null,null,'7');
Insert into ESCUELASOA3.DIRECCION (ID_DIRECCION,CALLE,NUMERO,PISO,DEPARTAMENTO,ID_LOCALIDAD) values ('10','av.cordoba','5435','3','b','4');
Insert into ESCUELASOA3.DIRECCION (ID_DIRECCION,CALLE,NUMERO,PISO,DEPARTAMENTO,ID_LOCALIDAD) values ('11','av.santa fe','8975','8','c','1');
Insert into ESCUELASOA3.DIRECCION (ID_DIRECCION,CALLE,NUMERO,PISO,DEPARTAMENTO,ID_LOCALIDAD) values ('12','av.belgrano','8920','8','v','3');
Insert into ESCUELASOA3.DIRECCION (ID_DIRECCION,CALLE,NUMERO,PISO,DEPARTAMENTO,ID_LOCALIDAD) values ('13','av.lavalleja','5214','4','h','6');
Insert into ESCUELASOA3.DIRECCION (ID_DIRECCION,CALLE,NUMERO,PISO,DEPARTAMENTO,ID_LOCALIDAD) values ('14','av.amoedo','9637','8','b','4');
Insert into ESCUELASOA3.DIRECCION (ID_DIRECCION,CALLE,NUMERO,PISO,DEPARTAMENTO,ID_LOCALIDAD) values ('15','av.12 de octubre','4658','3','b','3');
Insert into ESCUELASOA3.DIRECCION (ID_DIRECCION,CALLE,NUMERO,PISO,DEPARTAMENTO,ID_LOCALIDAD) values ('16','av.livertador','9801',null,'b','4');
Insert into ESCUELASOA3.DIRECCION (ID_DIRECCION,CALLE,NUMERO,PISO,DEPARTAMENTO,ID_LOCALIDAD) values ('17','av.loria','7521','3','b','7');
Insert into ESCUELASOA3.DIRECCION (ID_DIRECCION,CALLE,NUMERO,PISO,DEPARTAMENTO,ID_LOCALIDAD) values ('18','av.aguero','7896','9','b','4');
Insert into ESCUELASOA3.DIRECCION (ID_DIRECCION,CALLE,NUMERO,PISO,DEPARTAMENTO,ID_LOCALIDAD) values ('19','av.tucuman','9632','7','b','5');
Insert into ESCUELASOA3.DIRECCION (ID_DIRECCION,CALLE,NUMERO,PISO,DEPARTAMENTO,ID_LOCALIDAD) values ('20','av.maipu','7410',null,null,'4');
Insert into ESCUELASOA3.DIRECCION (ID_DIRECCION,CALLE,NUMERO,PISO,DEPARTAMENTO,ID_LOCALIDAD) values ('21','av.parana','1234','7','b','5');
Insert into ESCUELASOA3.DIRECCION (ID_DIRECCION,CALLE,NUMERO,PISO,DEPARTAMENTO,ID_LOCALIDAD) values ('22','av.hipolito','7466','3','c','2');
Insert into ESCUELASOA3.DIRECCION (ID_DIRECCION,CALLE,NUMERO,PISO,DEPARTAMENTO,ID_LOCALIDAD) values ('23','av.san juan','9988','9','b','4');
Insert into ESCUELASOA3.DIRECCION (ID_DIRECCION,CALLE,NUMERO,PISO,DEPARTAMENTO,ID_LOCALIDAD) values ('24','av.paseo colom','8885','9','e','4');
Insert into ESCUELASOA3.DIRECCION (ID_DIRECCION,CALLE,NUMERO,PISO,DEPARTAMENTO,ID_LOCALIDAD) values ('25','av.garay','5435','7','b','4');
Insert into ESCUELASOA3.DIRECCION (ID_DIRECCION,CALLE,NUMERO,PISO,DEPARTAMENTO,ID_LOCALIDAD) values ('26','av.magallanes','4166','3',null,'3');
Insert into ESCUELASOA3.DIRECCION (ID_DIRECCION,CALLE,NUMERO,PISO,DEPARTAMENTO,ID_LOCALIDAD) values ('27','av.alsina','4725','3','b','1');
REM INSERTING into ESCUELASOA3.EMPLEADO
SET DEFINE OFF;
Insert into ESCUELASOA3.EMPLEADO (ID_EMPLEADO,CUIL,NROLEGAJO,ID_EMPRESA,ID_PERSONA,ID_PUESTOTRABAJO,ID_GRUPO) values ('1','1111','111111','1','2','3',null);
Insert into ESCUELASOA3.EMPLEADO (ID_EMPLEADO,CUIL,NROLEGAJO,ID_EMPRESA,ID_PERSONA,ID_PUESTOTRABAJO,ID_GRUPO) values ('2','2222','111112','1','3','1','1');
Insert into ESCUELASOA3.EMPLEADO (ID_EMPLEADO,CUIL,NROLEGAJO,ID_EMPRESA,ID_PERSONA,ID_PUESTOTRABAJO,ID_GRUPO) values ('3','3333','111113','1','4','1','1');
Insert into ESCUELASOA3.EMPLEADO (ID_EMPLEADO,CUIL,NROLEGAJO,ID_EMPRESA,ID_PERSONA,ID_PUESTOTRABAJO,ID_GRUPO) values ('4','4444','111114','2','8','1','2');
Insert into ESCUELASOA3.EMPLEADO (ID_EMPLEADO,CUIL,NROLEGAJO,ID_EMPRESA,ID_PERSONA,ID_PUESTOTRABAJO,ID_GRUPO) values ('5','5555','111115','2','9','1','2');
Insert into ESCUELASOA3.EMPLEADO (ID_EMPLEADO,CUIL,NROLEGAJO,ID_EMPRESA,ID_PERSONA,ID_PUESTOTRABAJO,ID_GRUPO) values ('6','5556','111116','2','10','1',null);
Insert into ESCUELASOA3.EMPLEADO (ID_EMPLEADO,CUIL,NROLEGAJO,ID_EMPRESA,ID_PERSONA,ID_PUESTOTRABAJO,ID_GRUPO) values ('7','6666','111117','2','11','1',null);
Insert into ESCUELASOA3.EMPLEADO (ID_EMPLEADO,CUIL,NROLEGAJO,ID_EMPRESA,ID_PERSONA,ID_PUESTOTRABAJO,ID_GRUPO) values ('8','7777','111118','1','12','2',null);
Insert into ESCUELASOA3.EMPLEADO (ID_EMPLEADO,CUIL,NROLEGAJO,ID_EMPRESA,ID_PERSONA,ID_PUESTOTRABAJO,ID_GRUPO) values ('9','5676','111119','2','13','3',null);
Insert into ESCUELASOA3.EMPLEADO (ID_EMPLEADO,CUIL,NROLEGAJO,ID_EMPRESA,ID_PERSONA,ID_PUESTOTRABAJO,ID_GRUPO) values ('10','8886','111120','1','14','2',null);
REM INSERTING into ESCUELASOA3.EMPRESA
SET DEFINE OFF;
Insert into ESCUELASOA3.EMPRESA (RAZONSOCIAL,CUIT,ID_EMPRESA,ID_DIRECCION,ID_RUBRO) values ('Cubika SA','1111111111','1','4','1');
Insert into ESCUELASOA3.EMPRESA (RAZONSOCIAL,CUIT,ID_EMPRESA,ID_DIRECCION,ID_RUBRO) values ('empresa 2','2222222222','2','6','2');
REM INSERTING into ESCUELASOA3.GRUPO
SET DEFINE OFF;
Insert into ESCUELASOA3.GRUPO (ID_GRUPO,DESCRIPCION,POLIZACOLECTIVA_ID_PC) values ('1','Desarrolladores GL','1');
Insert into ESCUELASOA3.GRUPO (ID_GRUPO,DESCRIPCION,POLIZACOLECTIVA_ID_PC) values ('2','Recepcionistas piso 2','2');
Insert into ESCUELASOA3.GRUPO (ID_GRUPO,DESCRIPCION,POLIZACOLECTIVA_ID_PC) values ('3','Recursos humanos','3');
Insert into ESCUELASOA3.GRUPO (ID_GRUPO,DESCRIPCION,POLIZACOLECTIVA_ID_PC) values ('4','Analistas funcionales','4');
Insert into ESCUELASOA3.GRUPO (ID_GRUPO,DESCRIPCION,POLIZACOLECTIVA_ID_PC) values ('5','Diseñadores','5');
Insert into ESCUELASOA3.GRUPO (ID_GRUPO,DESCRIPCION,POLIZACOLECTIVA_ID_PC) values ('6','Testing','6');
Insert into ESCUELASOA3.GRUPO (ID_GRUPO,DESCRIPCION,POLIZACOLECTIVA_ID_PC) values ('7','Mantenimiento','7');
Insert into ESCUELASOA3.GRUPO (ID_GRUPO,DESCRIPCION,POLIZACOLECTIVA_ID_PC) values ('8','Contabilidad','8');
REM INSERTING into ESCUELASOA3.LOCALIDAD
SET DEFINE OFF;
Insert into ESCUELASOA3.LOCALIDAD (ID_LOCALIDAD,NOMBRE,CODIGOPOSTAL,ID_PROVINCIA) values ('1','Lomas de Zamora','1832','1');
Insert into ESCUELASOA3.LOCALIDAD (ID_LOCALIDAD,NOMBRE,CODIGOPOSTAL,ID_PROVINCIA) values ('2','Lanus','1854','1');
Insert into ESCUELASOA3.LOCALIDAD (ID_LOCALIDAD,NOMBRE,CODIGOPOSTAL,ID_PROVINCIA) values ('3','La Plata','1900','1');
Insert into ESCUELASOA3.LOCALIDAD (ID_LOCALIDAD,NOMBRE,CODIGOPOSTAL,ID_PROVINCIA) values ('4','CABA','1180','1');
Insert into ESCUELASOA3.LOCALIDAD (ID_LOCALIDAD,NOMBRE,CODIGOPOSTAL,ID_PROVINCIA) values ('5','La Matanza','1342','1');
Insert into ESCUELASOA3.LOCALIDAD (ID_LOCALIDAD,NOMBRE,CODIGOPOSTAL,ID_PROVINCIA) values ('6','Adrogue','1432','1');
Insert into ESCUELASOA3.LOCALIDAD (ID_LOCALIDAD,NOMBRE,CODIGOPOSTAL,ID_PROVINCIA) values ('7','Monte Grande','1423','1');
REM INSERTING into ESCUELASOA3.NIVELRIESGO
SET DEFINE OFF;
Insert into ESCUELASOA3.NIVELRIESGO (ID_NIVELRIESGO,DESCRIPCION) values ('1','Bajo');
Insert into ESCUELASOA3.NIVELRIESGO (ID_NIVELRIESGO,DESCRIPCION) values ('2','Medio');
Insert into ESCUELASOA3.NIVELRIESGO (ID_NIVELRIESGO,DESCRIPCION) values ('3','Alto');
REM INSERTING into ESCUELASOA3.PAIS
SET DEFINE OFF;
Insert into ESCUELASOA3.PAIS (ID_PAIS,NOMBRE) values ('1','Argentina');
Insert into ESCUELASOA3.PAIS (ID_PAIS,NOMBRE) values ('2','Paraguay');
REM INSERTING into ESCUELASOA3.PERSONA
SET DEFINE OFF;
Insert into ESCUELASOA3.PERSONA (ID_PERSONA,TIPODOC,NRODOC,NOMBRE,APELLIDO,EMAIL,ID_DIRECCION,FECHANACIMIENTO) values ('1','DNI','33535221','Guillermo','Sanchez','gs@gmail.com','1',to_date('11/05/1993','DD/MM/RRRR'));
Insert into ESCUELASOA3.PERSONA (ID_PERSONA,TIPODOC,NRODOC,NOMBRE,APELLIDO,EMAIL,ID_DIRECCION,FECHANACIMIENTO) values ('2','DNI','32343231','Ivan','Ibanez','ads@gmail.com','2',to_date('14/08/1987','DD/MM/RRRR'));
Insert into ESCUELASOA3.PERSONA (ID_PERSONA,TIPODOC,NRODOC,NOMBRE,APELLIDO,EMAIL,ID_DIRECCION,FECHANACIMIENTO) values ('3','DNI','33423422','Damian','Pelisare','da@gmail.com','3',to_date('12/02/1999','DD/MM/RRRR'));
Insert into ESCUELASOA3.PERSONA (ID_PERSONA,TIPODOC,NRODOC,NOMBRE,APELLIDO,EMAIL,ID_DIRECCION,FECHANACIMIENTO) values ('4','DNI','32452345','Leandro','Gimenez','lea@gmail.com','4',to_date('12/03/1998','DD/MM/RRRR'));
Insert into ESCUELASOA3.PERSONA (ID_PERSONA,TIPODOC,NRODOC,NOMBRE,APELLIDO,EMAIL,ID_DIRECCION,FECHANACIMIENTO) values ('5','DNI','11111117','Bruno','Diaz','batman@gmail.com','4',to_date('12/03/1999','DD/MM/RRRR'));
Insert into ESCUELASOA3.PERSONA (ID_PERSONA,TIPODOC,NRODOC,NOMBRE,APELLIDO,EMAIL,ID_DIRECCION,FECHANACIMIENTO) values ('6','DNI','30000008','aaaaaa','aa','ramond@gmail.com','4',to_date('12/03/1998','DD/MM/RRRR'));
Insert into ESCUELASOA3.PERSONA (ID_PERSONA,TIPODOC,NRODOC,NOMBRE,APELLIDO,EMAIL,ID_DIRECCION,FECHANACIMIENTO) values ('7','DNI','30000019','carlos','calvo','carlin@gmail.com','5',to_date('12/03/1998','DD/MM/RRRR'));
Insert into ESCUELASOA3.PERSONA (ID_PERSONA,TIPODOC,NRODOC,NOMBRE,APELLIDO,EMAIL,ID_DIRECCION,FECHANACIMIENTO) values ('8','DNI','30000024','susana','torio','susi@gmail.com','6',to_date('12/03/1999','DD/MM/RRRR'));
Insert into ESCUELASOA3.PERSONA (ID_PERSONA,TIPODOC,NRODOC,NOMBRE,APELLIDO,EMAIL,ID_DIRECCION,FECHANACIMIENTO) values ('9','DNI','13254687','martin','fierro','t1ncho@gmail.com','7',to_date('12/07/1981','DD/MM/RRRR'));
Insert into ESCUELASOA3.PERSONA (ID_PERSONA,TIPODOC,NRODOC,NOMBRE,APELLIDO,EMAIL,ID_DIRECCION,FECHANACIMIENTO) values ('10','DNI','11144667','horacio','Diaz','hdiaz@gmail.com','8',to_date('01/01/2000','DD/MM/RRRR'));
Insert into ESCUELASOA3.PERSONA (ID_PERSONA,TIPODOC,NRODOC,NOMBRE,APELLIDO,EMAIL,ID_DIRECCION,FECHANACIMIENTO) values ('11','DNI','19887123','carlos','batman','batman@gmail.com','9',to_date('11/01/1947','DD/MM/RRRR'));
Insert into ESCUELASOA3.PERSONA (ID_PERSONA,TIPODOC,NRODOC,NOMBRE,APELLIDO,EMAIL,ID_DIRECCION,FECHANACIMIENTO) values ('12','DNI','13148795','bruno','apellidodebruno','batman2@gmail.com','10',to_date('01/02/1989','DD/MM/RRRR'));
Insert into ESCUELASOA3.PERSONA (ID_PERSONA,TIPODOC,NRODOC,NOMBRE,APELLIDO,EMAIL,ID_DIRECCION,FECHANACIMIENTO) values ('13','DNI','32423523','Andres','Locolope','loco@gmail.com','11',to_date('01/01/1969','DD/MM/RRRR'));
Insert into ESCUELASOA3.PERSONA (ID_PERSONA,TIPODOC,NRODOC,NOMBRE,APELLIDO,EMAIL,ID_DIRECCION,FECHANACIMIENTO) values ('14','DNI','56456345','Albert','Einstein','bombaatomica@gmail.com','12',to_date('01/09/1978','DD/MM/RRRR'));
Insert into ESCUELASOA3.PERSONA (ID_PERSONA,TIPODOC,NRODOC,NOMBRE,APELLIDO,EMAIL,ID_DIRECCION,FECHANACIMIENTO) values ('15','DNI','43452145','Damian','Rojas','damro@gmail.com','13',to_date('08/08/1988','DD/MM/RRRR'));
Insert into ESCUELASOA3.PERSONA (ID_PERSONA,TIPODOC,NRODOC,NOMBRE,APELLIDO,EMAIL,ID_DIRECCION,FECHANACIMIENTO) values ('16','DNI','62456324','Hernan','Casado','her@gmail.com','14',to_date('01/01/2000','DD/MM/RRRR'));
Insert into ESCUELASOA3.PERSONA (ID_PERSONA,TIPODOC,NRODOC,NOMBRE,APELLIDO,EMAIL,ID_DIRECCION,FECHANACIMIENTO) values ('17','DNI','23423423','gemmy','Venezuela','vene@gmail.com','15',to_date('01/07/1945','DD/MM/RRRR'));
Insert into ESCUELASOA3.PERSONA (ID_PERSONA,TIPODOC,NRODOC,NOMBRE,APELLIDO,EMAIL,ID_DIRECCION,FECHANACIMIENTO) values ('18','DNI','64564563','Mati','Laplata','mati@gmail.com','16',to_date('01/02/1987','DD/MM/RRRR'));
Insert into ESCUELASOA3.PERSONA (ID_PERSONA,TIPODOC,NRODOC,NOMBRE,APELLIDO,EMAIL,ID_DIRECCION,FECHANACIMIENTO) values ('19','DNI','23422342','Kasandra','Tronchatoro','kasandra@gmail.com','17',to_date('01/01/1991','DD/MM/RRRR'));
Insert into ESCUELASOA3.PERSONA (ID_PERSONA,TIPODOC,NRODOC,NOMBRE,APELLIDO,EMAIL,ID_DIRECCION,FECHANACIMIENTO) values ('20','DNI','34632456','Monica','Linda','linda@gmail.com','18',to_date('31/01/1992','DD/MM/RRRR'));
Insert into ESCUELASOA3.PERSONA (ID_PERSONA,TIPODOC,NRODOC,NOMBRE,APELLIDO,EMAIL,ID_DIRECCION,FECHANACIMIENTO) values ('21','DNI','76544523','Leo','Messi','lionel.messi@gmail.com','19',to_date('24/02/1947','DD/MM/RRRR'));
Insert into ESCUELASOA3.PERSONA (ID_PERSONA,TIPODOC,NRODOC,NOMBRE,APELLIDO,EMAIL,ID_DIRECCION,FECHANACIMIENTO) values ('22','DNI','34534534','Jim','Carrey','retonto@gmail.com','20',to_date('23/05/1995','DD/MM/RRRR'));
REM INSERTING into ESCUELASOA3.PLAN
SET DEFINE OFF;
Insert into ESCUELASOA3.PLAN (ID_PLAN,NOMBRE,DESCRIPCION) values ('1','FULL','Te cubre todo');
Insert into ESCUELASOA3.PLAN (ID_PLAN,NOMBRE,DESCRIPCION) values ('2','Hernias','Cubre hernias');
REM INSERTING into ESCUELASOA3.PLAN_COBERTURA
SET DEFINE OFF;
Insert into ESCUELASOA3.PLAN_COBERTURA (ID_PLAN,ID_COBERTURA) values ('1','1');
Insert into ESCUELASOA3.PLAN_COBERTURA (ID_PLAN,ID_COBERTURA) values ('1','2');
Insert into ESCUELASOA3.PLAN_COBERTURA (ID_PLAN,ID_COBERTURA) values ('1','3');
REM INSERTING into ESCUELASOA3.POLIZA_COBERTURA
SET DEFINE OFF;
Insert into ESCUELASOA3.POLIZA_COBERTURA (ID_POLIZA,ID_COBERTURA) values ('1','1');
Insert into ESCUELASOA3.POLIZA_COBERTURA (ID_POLIZA,ID_COBERTURA) values ('1','2');
Insert into ESCUELASOA3.POLIZA_COBERTURA (ID_POLIZA,ID_COBERTURA) values ('1','3');
Insert into ESCUELASOA3.POLIZA_COBERTURA (ID_POLIZA,ID_COBERTURA) values ('2','2');
REM INSERTING into ESCUELASOA3.POLIZACOLECTIVA
SET DEFINE OFF;
Insert into ESCUELASOA3.POLIZACOLECTIVA (FECHACONTRATO,FECHAINICIOVALIDEZ,FECHAFINVALIDEZ,PRIMA,PREMIO,COMISION,ID_POLIZACOLECTIVA,ID_PRODUCTOR,ID_ZONACOBERTURA,ID_EMPRESA,ID_PLAN) values (to_date('24/08/2015','DD/MM/RRRR'),to_date('25/08/2015','DD/MM/RRRR'),to_date('25/11/2015','DD/MM/RRRR'),'7000','8200','0','1','5','2','2','1');
Insert into ESCUELASOA3.POLIZACOLECTIVA (FECHACONTRATO,FECHAINICIOVALIDEZ,FECHAFINVALIDEZ,PRIMA,PREMIO,COMISION,ID_POLIZACOLECTIVA,ID_PRODUCTOR,ID_ZONACOBERTURA,ID_EMPRESA,ID_PLAN) values (to_date('24/01/2015','DD/MM/RRRR'),to_date('25/01/2015','DD/MM/RRRR'),to_date('25/07/2015','DD/MM/RRRR'),'4000','5300','600','2','1','1','2','2');
Insert into ESCUELASOA3.POLIZACOLECTIVA (FECHACONTRATO,FECHAINICIOVALIDEZ,FECHAFINVALIDEZ,PRIMA,PREMIO,COMISION,ID_POLIZACOLECTIVA,ID_PRODUCTOR,ID_ZONACOBERTURA,ID_EMPRESA,ID_PLAN) values (to_date('13/02/2015','DD/MM/RRRR'),to_date('14/02/2015','DD/MM/RRRR'),to_date('14/05/2015','DD/MM/RRRR'),'2000','2500','300','3','3','1','1','1');
Insert into ESCUELASOA3.POLIZACOLECTIVA (FECHACONTRATO,FECHAINICIOVALIDEZ,FECHAFINVALIDEZ,PRIMA,PREMIO,COMISION,ID_POLIZACOLECTIVA,ID_PRODUCTOR,ID_ZONACOBERTURA,ID_EMPRESA,ID_PLAN) values (to_date('21/03/2015','DD/MM/RRRR'),to_date('22/03/2015','DD/MM/RRRR'),to_date('22/09/2015','DD/MM/RRRR'),'1000','2000','400','4','2','1','1','2');
Insert into ESCUELASOA3.POLIZACOLECTIVA (FECHACONTRATO,FECHAINICIOVALIDEZ,FECHAFINVALIDEZ,PRIMA,PREMIO,COMISION,ID_POLIZACOLECTIVA,ID_PRODUCTOR,ID_ZONACOBERTURA,ID_EMPRESA,ID_PLAN) values (to_date('01/04/2015','DD/MM/RRRR'),to_date('02/04/2015','DD/MM/RRRR'),to_date('02/05/2015','DD/MM/RRRR'),'800','1100','150','5','4','1','2','1');
Insert into ESCUELASOA3.POLIZACOLECTIVA (FECHACONTRATO,FECHAINICIOVALIDEZ,FECHAFINVALIDEZ,PRIMA,PREMIO,COMISION,ID_POLIZACOLECTIVA,ID_PRODUCTOR,ID_ZONACOBERTURA,ID_EMPRESA,ID_PLAN) values (to_date('10/05/2015','DD/MM/RRRR'),to_date('11/05/2015','DD/MM/RRRR'),to_date('11/08/2015','DD/MM/RRRR'),'800','1200','200','6','5','1','1','2');
Insert into ESCUELASOA3.POLIZACOLECTIVA (FECHACONTRATO,FECHAINICIOVALIDEZ,FECHAFINVALIDEZ,PRIMA,PREMIO,COMISION,ID_POLIZACOLECTIVA,ID_PRODUCTOR,ID_ZONACOBERTURA,ID_EMPRESA,ID_PLAN) values (to_date('09/06/2015','DD/MM/RRRR'),to_date('10/06/2015','DD/MM/RRRR'),to_date('10/09/2015','DD/MM/RRRR'),'2500','3000','300','7','6','1','1','1');
Insert into ESCUELASOA3.POLIZACOLECTIVA (FECHACONTRATO,FECHAINICIOVALIDEZ,FECHAFINVALIDEZ,PRIMA,PREMIO,COMISION,ID_POLIZACOLECTIVA,ID_PRODUCTOR,ID_ZONACOBERTURA,ID_EMPRESA,ID_PLAN) values (to_date('16/07/2015','DD/MM/RRRR'),to_date('17/07/2015','DD/MM/RRRR'),to_date('17/10/2015','DD/MM/RRRR'),'1500','3300','400','8','1','1','2','2');
REM INSERTING into ESCUELASOA3.POLIZACOLECTIVA_COBERTURA
SET DEFINE OFF;
Insert into ESCUELASOA3.POLIZACOLECTIVA_COBERTURA (POLIZACOLECTIVA_ID_PC,ID_COBERTURA) values ('1','1');
Insert into ESCUELASOA3.POLIZACOLECTIVA_COBERTURA (POLIZACOLECTIVA_ID_PC,ID_COBERTURA) values ('1','2');
REM INSERTING into ESCUELASOA3.POLIZAINDIVIDUAL
SET DEFINE OFF;
Insert into ESCUELASOA3.POLIZAINDIVIDUAL (FECHACONTRATO,FECHAINICIOVALIDEZ,FECHAFINVALIDEZ,PRIMA,PREMIO,COMISION,ID_POLIZAINDIVIDUAL,ID_EMPRESA,ID_ZONACOBERTURA,ID_PRODUCTOR,ID_PLAN,ID_EMPLEADO) values (to_date('24/08/2015','DD/MM/RRRR'),to_date('25/08/2015','DD/MM/RRRR'),to_date('25/09/2015','DD/MM/RRRR'),'3000','3500','240','1','1','1','1','1','1');
Insert into ESCUELASOA3.POLIZAINDIVIDUAL (FECHACONTRATO,FECHAINICIOVALIDEZ,FECHAFINVALIDEZ,PRIMA,PREMIO,COMISION,ID_POLIZAINDIVIDUAL,ID_EMPRESA,ID_ZONACOBERTURA,ID_PRODUCTOR,ID_PLAN,ID_EMPLEADO) values (to_date('24/08/2015','DD/MM/RRRR'),to_date('25/08/2015','DD/MM/RRRR'),to_date('25/09/2015','DD/MM/RRRR'),'3300','3800','280','2','1','2','2','2','10');
Insert into ESCUELASOA3.POLIZAINDIVIDUAL (FECHACONTRATO,FECHAINICIOVALIDEZ,FECHAFINVALIDEZ,PRIMA,PREMIO,COMISION,ID_POLIZAINDIVIDUAL,ID_EMPRESA,ID_ZONACOBERTURA,ID_PRODUCTOR,ID_PLAN,ID_EMPLEADO) values (to_date('24/09/2015','DD/MM/RRRR'),to_date('25/09/2015','DD/MM/RRRR'),to_date('25/10/2015','DD/MM/RRRR'),'3300','4550','200','3','2','3','1','1','9');
Insert into ESCUELASOA3.POLIZAINDIVIDUAL (FECHACONTRATO,FECHAINICIOVALIDEZ,FECHAFINVALIDEZ,PRIMA,PREMIO,COMISION,ID_POLIZAINDIVIDUAL,ID_EMPRESA,ID_ZONACOBERTURA,ID_PRODUCTOR,ID_PLAN,ID_EMPLEADO) values (to_date('24/10/2015','DD/MM/RRRR'),to_date('25/10/2015','DD/MM/RRRR'),to_date('25/11/2015','DD/MM/RRRR'),'2500','3550','155','4','1','3','3','2','7');
Insert into ESCUELASOA3.POLIZAINDIVIDUAL (FECHACONTRATO,FECHAINICIOVALIDEZ,FECHAFINVALIDEZ,PRIMA,PREMIO,COMISION,ID_POLIZAINDIVIDUAL,ID_EMPRESA,ID_ZONACOBERTURA,ID_PRODUCTOR,ID_PLAN,ID_EMPLEADO) values (to_date('24/11/2015','DD/MM/RRRR'),to_date('25/11/2015','DD/MM/RRRR'),to_date('25/12/2015','DD/MM/RRRR'),'6100','8550','150','5','2','1','6','2','5');
Insert into ESCUELASOA3.POLIZAINDIVIDUAL (FECHACONTRATO,FECHAINICIOVALIDEZ,FECHAFINVALIDEZ,PRIMA,PREMIO,COMISION,ID_POLIZAINDIVIDUAL,ID_EMPRESA,ID_ZONACOBERTURA,ID_PRODUCTOR,ID_PLAN,ID_EMPLEADO) values (to_date('24/03/2016','DD/MM/RRRR'),to_date('25/03/2016','DD/MM/RRRR'),to_date('25/04/2016','DD/MM/RRRR'),'5850','7550','100','6','1','1','4','2','8');
REM INSERTING into ESCUELASOA3.PRODUCTOR
SET DEFINE OFF;
Insert into ESCUELASOA3.PRODUCTOR (ID_PRODUCTOR,ID_PERSONA) values ('1','1');
Insert into ESCUELASOA3.PRODUCTOR (ID_PRODUCTOR,ID_PERSONA) values ('2','6');
Insert into ESCUELASOA3.PRODUCTOR (ID_PRODUCTOR,ID_PERSONA) values ('3','7');
Insert into ESCUELASOA3.PRODUCTOR (ID_PRODUCTOR,ID_PERSONA) values ('4','15');
Insert into ESCUELASOA3.PRODUCTOR (ID_PRODUCTOR,ID_PERSONA) values ('5','18');
Insert into ESCUELASOA3.PRODUCTOR (ID_PRODUCTOR,ID_PERSONA) values ('6','17');
REM INSERTING into ESCUELASOA3.PROVINCIA
SET DEFINE OFF;
Insert into ESCUELASOA3.PROVINCIA (ID_PROVINCIA,NOMBRE,ID_PAIS) values ('1','Buenos Aires','1');
Insert into ESCUELASOA3.PROVINCIA (ID_PROVINCIA,NOMBRE,ID_PAIS) values ('2','Cordoba','1');
Insert into ESCUELASOA3.PROVINCIA (ID_PROVINCIA,NOMBRE,ID_PAIS) values ('3','Santa Fe','1');
Insert into ESCUELASOA3.PROVINCIA (ID_PROVINCIA,NOMBRE,ID_PAIS) values ('4','Tucuman','1');
Insert into ESCUELASOA3.PROVINCIA (ID_PROVINCIA,NOMBRE,ID_PAIS) values ('5','San Luis','1');
Insert into ESCUELASOA3.PROVINCIA (ID_PROVINCIA,NOMBRE,ID_PAIS) values ('6','Santa Cruz','1');
Insert into ESCUELASOA3.PROVINCIA (ID_PROVINCIA,NOMBRE,ID_PAIS) values ('7','Mendoza','1');
REM INSERTING into ESCUELASOA3.PUESTOTRABAJO
SET DEFINE OFF;
Insert into ESCUELASOA3.PUESTOTRABAJO (ID_PUESTOTRABAJO,DESCRIPCION) values ('1','Desarrollador de software');
Insert into ESCUELASOA3.PUESTOTRABAJO (ID_PUESTOTRABAJO,DESCRIPCION) values ('2','Recepcionista');
Insert into ESCUELASOA3.PUESTOTRABAJO (ID_PUESTOTRABAJO,DESCRIPCION) values ('3','Cadete');
REM INSERTING into ESCUELASOA3.RIESGO
SET DEFINE OFF;
Insert into ESCUELASOA3.RIESGO (ID_RIESGO,VALOR,FECHAINICIO,FECHAFIN,ID_NIVELRIESGO,ID_ZONACOBERTURA,ID_PUESTOTRABAJO) values ('1','50000',to_date('01/01/2015','DD/MM/RRRR'),null,'1','1','1');
Insert into ESCUELASOA3.RIESGO (ID_RIESGO,VALOR,FECHAINICIO,FECHAFIN,ID_NIVELRIESGO,ID_ZONACOBERTURA,ID_PUESTOTRABAJO) values ('2','80000',to_date('01/01/2015','DD/MM/RRRR'),null,'1','2','1');
Insert into ESCUELASOA3.RIESGO (ID_RIESGO,VALOR,FECHAINICIO,FECHAFIN,ID_NIVELRIESGO,ID_ZONACOBERTURA,ID_PUESTOTRABAJO) values ('3','80000',to_date('01/01/2015','DD/MM/RRRR'),null,'2','1','3');
REM INSERTING into ESCUELASOA3.RUBRO
SET DEFINE OFF;
Insert into ESCUELASOA3.RUBRO (ID_RUBRO,NOMBRE) values ('1','Desarrollo de software');
Insert into ESCUELASOA3.RUBRO (ID_RUBRO,NOMBRE) values ('2','Seguros');
REM INSERTING into ESCUELASOA3.SINIESTRO
SET DEFINE OFF;
Insert into ESCUELASOA3.SINIESTRO (ID_SINIESTRO,DESCRIPCION,FECHA,COSTO,ID_COBERTURA,ID_PUESTOTRABAJO,ID_POLIZA,ID_EMPLEADO,ID_ZONACOBERTURA,POLIZACOLECTIVA_ID_PC) values ('1','El asegurado estaba programando y le agarro una hernia inguinal directa',to_date('24/08/2015','DD/MM/RRRR'),'14500','1','1','1','1','1',null);
Insert into ESCUELASOA3.SINIESTRO (ID_SINIESTRO,DESCRIPCION,FECHA,COSTO,ID_COBERTURA,ID_PUESTOTRABAJO,ID_POLIZA,ID_EMPLEADO,ID_ZONACOBERTURA,POLIZACOLECTIVA_ID_PC) values ('2','El asegurado volvia a su hogar y lo piso un auto. Fue trasladado al hospital.',to_date('31/08/2014','DD/MM/RRRR'),'38000',null,'1','1','1','1',null);
Insert into ESCUELASOA3.SINIESTRO (ID_SINIESTRO,DESCRIPCION,FECHA,COSTO,ID_COBERTURA,ID_PUESTOTRABAJO,ID_POLIZA,ID_EMPLEADO,ID_ZONACOBERTURA,POLIZACOLECTIVA_ID_PC) values ('3','El asegurado se cayo de la escalera y fue trasladado al hospital',to_date('14/04/2015','DD/MM/RRRR'),null,null,'1','1','3','1',null);
Insert into ESCUELASOA3.SINIESTRO (ID_SINIESTRO,DESCRIPCION,FECHA,COSTO,ID_COBERTURA,ID_PUESTOTRABAJO,ID_POLIZA,ID_EMPLEADO,ID_ZONACOBERTURA,POLIZACOLECTIVA_ID_PC) values ('4','El asegurado estaba levantando una caja y le agarro una hernia inguinal directa',to_date('19/09/2014','DD/MM/RRRR'),'16500','1','2','1','1','1',null);
Insert into ESCUELASOA3.SINIESTRO (ID_SINIESTRO,DESCRIPCION,FECHA,COSTO,ID_COBERTURA,ID_PUESTOTRABAJO,ID_POLIZA,ID_EMPLEADO,ID_ZONACOBERTURA,POLIZACOLECTIVA_ID_PC) values ('5','El asegurado fue atacado por extraterrestres mientras iba a trabajar',to_date('10/07/2015','DD/MM/RRRR'),null,null,'1',null,'2','1','1');
REM INSERTING into ESCUELASOA3.TELEFONO
SET DEFINE OFF;
Insert into ESCUELASOA3.TELEFONO (ID_TELEFONO,TIPO,NUMERO,ID_PERSONA,ID_EMPRESA) values ('1','Fijo','43232343','1',null);
Insert into ESCUELASOA3.TELEFONO (ID_TELEFONO,TIPO,NUMERO,ID_PERSONA,ID_EMPRESA) values ('2','Celular','52233245',null,'1');
Insert into ESCUELASOA3.TELEFONO (ID_TELEFONO,TIPO,NUMERO,ID_PERSONA,ID_EMPRESA) values ('3','Celular','54147778',null,'2');
Insert into ESCUELASOA3.TELEFONO (ID_TELEFONO,TIPO,NUMERO,ID_PERSONA,ID_EMPRESA) values ('4','Fijo','121247778',null,'2');
Insert into ESCUELASOA3.TELEFONO (ID_TELEFONO,TIPO,NUMERO,ID_PERSONA,ID_EMPRESA) values ('5','Fijo','22222343','3',null);
Insert into ESCUELASOA3.TELEFONO (ID_TELEFONO,TIPO,NUMERO,ID_PERSONA,ID_EMPRESA) values ('6','Fijo','43232343','4',null);
Insert into ESCUELASOA3.TELEFONO (ID_TELEFONO,TIPO,NUMERO,ID_PERSONA,ID_EMPRESA) values ('7','Fijo','11111343','5',null);
Insert into ESCUELASOA3.TELEFONO (ID_TELEFONO,TIPO,NUMERO,ID_PERSONA,ID_EMPRESA) values ('8','Celular','58795222','5',null);
Insert into ESCUELASOA3.TELEFONO (ID_TELEFONO,TIPO,NUMERO,ID_PERSONA,ID_EMPRESA) values ('9','Fijo','58879855','5',null);
Insert into ESCUELASOA3.TELEFONO (ID_TELEFONO,TIPO,NUMERO,ID_PERSONA,ID_EMPRESA) values ('10','Fijo','58955241',null,'2');
Insert into ESCUELASOA3.TELEFONO (ID_TELEFONO,TIPO,NUMERO,ID_PERSONA,ID_EMPRESA) values ('11','Fijo','7922200000','6',null);
Insert into ESCUELASOA3.TELEFONO (ID_TELEFONO,TIPO,NUMERO,ID_PERSONA,ID_EMPRESA) values ('12','Celular','2185955','7',null);
REM INSERTING into ESCUELASOA3.TESTIFICA
SET DEFINE OFF;
Insert into ESCUELASOA3.TESTIFICA (ID_PERSONA,ID_SINIESTRO) values ('3','1');
Insert into ESCUELASOA3.TESTIFICA (ID_PERSONA,ID_SINIESTRO) values ('16','2');
Insert into ESCUELASOA3.TESTIFICA (ID_PERSONA,ID_SINIESTRO) values ('19','3');
Insert into ESCUELASOA3.TESTIFICA (ID_PERSONA,ID_SINIESTRO) values ('20','3');
Insert into ESCUELASOA3.TESTIFICA (ID_PERSONA,ID_SINIESTRO) values ('21','3');
Insert into ESCUELASOA3.TESTIFICA (ID_PERSONA,ID_SINIESTRO) values ('22','5');
REM INSERTING into ESCUELASOA3.ZONACOBERTURA
SET DEFINE OFF;
Insert into ESCUELASOA3.ZONACOBERTURA (ID_ZONACOBERTURA,NOMBRE) values ('1','CABA');
Insert into ESCUELASOA3.ZONACOBERTURA (ID_ZONACOBERTURA,NOMBRE) values ('2','Gran Buenos Aires');
Insert into ESCUELASOA3.ZONACOBERTURA (ID_ZONACOBERTURA,NOMBRE) values ('3','La Plata');
--------------------------------------------------------
--  DDL for Index RUBRO_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "ESCUELASOA3"."RUBRO_PK" ON "ESCUELASOA3"."RUBRO" ("ID_RUBRO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index LOCALIDAD_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "ESCUELASOA3"."LOCALIDAD_PK" ON "ESCUELASOA3"."LOCALIDAD" ("ID_LOCALIDAD") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index POLIZACOLECTIVA_COBERTURA_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "ESCUELASOA3"."POLIZACOLECTIVA_COBERTURA_PK" ON "ESCUELASOA3"."POLIZACOLECTIVA_COBERTURA" ("POLIZACOLECTIVA_ID_PC", "ID_COBERTURA") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index SINIESTRO_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "ESCUELASOA3"."SINIESTRO_PK" ON "ESCUELASOA3"."SINIESTRO" ("ID_SINIESTRO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index POLIZACOLECTIVA_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "ESCUELASOA3"."POLIZACOLECTIVA_PK" ON "ESCUELASOA3"."POLIZACOLECTIVA" ("ID_POLIZACOLECTIVA") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index EMPRESA_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "ESCUELASOA3"."EMPRESA_PK" ON "ESCUELASOA3"."EMPRESA" ("ID_EMPRESA") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index POLIZA_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "ESCUELASOA3"."POLIZA_PK" ON "ESCUELASOA3"."POLIZAINDIVIDUAL" ("ID_POLIZAINDIVIDUAL") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PLAN_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "ESCUELASOA3"."PLAN_PK" ON "ESCUELASOA3"."PLAN" ("ID_PLAN") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PLAN_COBERTURA_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "ESCUELASOA3"."PLAN_COBERTURA_PK" ON "ESCUELASOA3"."PLAN_COBERTURA" ("ID_PLAN", "ID_COBERTURA") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index ZONACOBERTURA_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "ESCUELASOA3"."ZONACOBERTURA_PK" ON "ESCUELASOA3"."ZONACOBERTURA" ("ID_ZONACOBERTURA") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index NIVELRIESGO_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "ESCUELASOA3"."NIVELRIESGO_PK" ON "ESCUELASOA3"."NIVELRIESGO" ("ID_NIVELRIESGO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PAIS_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "ESCUELASOA3"."PAIS_PK" ON "ESCUELASOA3"."PAIS" ("ID_PAIS") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PROVINCIA_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "ESCUELASOA3"."PROVINCIA_PK" ON "ESCUELASOA3"."PROVINCIA" ("ID_PROVINCIA") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PERSONA_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "ESCUELASOA3"."PERSONA_PK" ON "ESCUELASOA3"."PERSONA" ("ID_PERSONA") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index EMPLEADO_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "ESCUELASOA3"."EMPLEADO_PK" ON "ESCUELASOA3"."EMPLEADO" ("ID_EMPLEADO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index DIRECCION_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "ESCUELASOA3"."DIRECCION_PK" ON "ESCUELASOA3"."DIRECCION" ("ID_DIRECCION") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index GRUPO_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "ESCUELASOA3"."GRUPO_PK" ON "ESCUELASOA3"."GRUPO" ("ID_GRUPO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PUESTOTRABAJO_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "ESCUELASOA3"."PUESTOTRABAJO_PK" ON "ESCUELASOA3"."PUESTOTRABAJO" ("ID_PUESTOTRABAJO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index POLIZA_COBERTURA_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "ESCUELASOA3"."POLIZA_COBERTURA_PK" ON "ESCUELASOA3"."POLIZA_COBERTURA" ("ID_POLIZA", "ID_COBERTURA") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index COBERTURA_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "ESCUELASOA3"."COBERTURA_PK" ON "ESCUELASOA3"."COBERTURA" ("ID_COBERTURA") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index RIESGO_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "ESCUELASOA3"."RIESGO_PK" ON "ESCUELASOA3"."RIESGO" ("ID_RIESGO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PRODUCTOR_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "ESCUELASOA3"."PRODUCTOR_PK" ON "ESCUELASOA3"."PRODUCTOR" ("ID_PRODUCTOR") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index TESTIFICA_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "ESCUELASOA3"."TESTIFICA_PK" ON "ESCUELASOA3"."TESTIFICA" ("ID_PERSONA", "ID_SINIESTRO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index TELEFONO_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "ESCUELASOA3"."TELEFONO_PK" ON "ESCUELASOA3"."TELEFONO" ("ID_TELEFONO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index COBERTURA_RIESGO_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "ESCUELASOA3"."COBERTURA_RIESGO_PK" ON "ESCUELASOA3"."COBERTURA_RIESGO" ("ID_COBERTURA", "ID_RIESGO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  Constraints for Table PAIS
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."PAIS" ADD CONSTRAINT "PAIS_PK" PRIMARY KEY ("ID_PAIS")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "ESCUELASOA3"."PAIS" MODIFY ("NOMBRE" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."PAIS" MODIFY ("ID_PAIS" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table ZONACOBERTURA
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."ZONACOBERTURA" ADD CONSTRAINT "ZONACOBERTURA_PK" PRIMARY KEY ("ID_ZONACOBERTURA")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "ESCUELASOA3"."ZONACOBERTURA" MODIFY ("NOMBRE" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."ZONACOBERTURA" MODIFY ("ID_ZONACOBERTURA" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table PERSONA
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."PERSONA" MODIFY ("FECHANACIMIENTO" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."PERSONA" ADD CONSTRAINT "PERSONA_PK" PRIMARY KEY ("ID_PERSONA")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "ESCUELASOA3"."PERSONA" MODIFY ("ID_DIRECCION" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."PERSONA" MODIFY ("APELLIDO" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."PERSONA" MODIFY ("NOMBRE" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."PERSONA" MODIFY ("NRODOC" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."PERSONA" MODIFY ("TIPODOC" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."PERSONA" MODIFY ("ID_PERSONA" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table GRUPO
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."GRUPO" ADD CONSTRAINT "GRUPO_PK" PRIMARY KEY ("ID_GRUPO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "ESCUELASOA3"."GRUPO" MODIFY ("POLIZACOLECTIVA_ID_PC" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."GRUPO" MODIFY ("DESCRIPCION" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."GRUPO" MODIFY ("ID_GRUPO" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table COBERTURA
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."COBERTURA" ADD CONSTRAINT "COBERTURA_PK" PRIMARY KEY ("ID_COBERTURA")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "ESCUELASOA3"."COBERTURA" MODIFY ("DESCRIPCION" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."COBERTURA" MODIFY ("ID_COBERTURA" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table PLAN
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."PLAN" ADD CONSTRAINT "PLAN_PK" PRIMARY KEY ("ID_PLAN")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "ESCUELASOA3"."PLAN" MODIFY ("NOMBRE" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."PLAN" MODIFY ("ID_PLAN" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table TELEFONO
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."TELEFONO" ADD CONSTRAINT "TELEFONO_TIENE_DUENO" CHECK ((ID_PERSONA IS NOT NULL OR ID_EMPRESA IS NOT NULL) AND (ID_PERSONA IS NULL OR ID_EMPRESA IS NULL)) ENABLE;
  ALTER TABLE "ESCUELASOA3"."TELEFONO" ADD CONSTRAINT "TELEFONO_PK" PRIMARY KEY ("ID_TELEFONO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "ESCUELASOA3"."TELEFONO" MODIFY ("NUMERO" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."TELEFONO" MODIFY ("TIPO" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."TELEFONO" MODIFY ("ID_TELEFONO" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table PLAN_COBERTURA
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."PLAN_COBERTURA" ADD CONSTRAINT "PLAN_COBERTURA_PK" PRIMARY KEY ("ID_PLAN", "ID_COBERTURA")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "ESCUELASOA3"."PLAN_COBERTURA" MODIFY ("ID_COBERTURA" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."PLAN_COBERTURA" MODIFY ("ID_PLAN" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table POLIZACOLECTIVA_COBERTURA
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."POLIZACOLECTIVA_COBERTURA" ADD CONSTRAINT "POLIZACOLECTIVA_COBERTURA_PK" PRIMARY KEY ("POLIZACOLECTIVA_ID_PC", "ID_COBERTURA")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "ESCUELASOA3"."POLIZACOLECTIVA_COBERTURA" MODIFY ("ID_COBERTURA" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."POLIZACOLECTIVA_COBERTURA" MODIFY ("POLIZACOLECTIVA_ID_PC" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table PRODUCTOR
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."PRODUCTOR" ADD CONSTRAINT "PRODUCTOR_PK" PRIMARY KEY ("ID_PRODUCTOR")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "ESCUELASOA3"."PRODUCTOR" MODIFY ("ID_PERSONA" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."PRODUCTOR" MODIFY ("ID_PRODUCTOR" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table SINIESTRO
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."SINIESTRO" ADD CONSTRAINT "SINIESTRO_TIENE_UNA_POLIZA" CHECK ((ID_POLIZA IS NOT NULL OR POLIZACOLECTIVA_ID_PC IS NOT NULL) AND (ID_POLIZA IS NULL OR POLIZACOLECTIVA_ID_PC IS NULL)) ENABLE;
  ALTER TABLE "ESCUELASOA3"."SINIESTRO" ADD CONSTRAINT "SINIESTRO_PK" PRIMARY KEY ("ID_SINIESTRO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "ESCUELASOA3"."SINIESTRO" MODIFY ("ID_ZONACOBERTURA" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."SINIESTRO" MODIFY ("ID_EMPLEADO" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."SINIESTRO" MODIFY ("FECHA" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."SINIESTRO" MODIFY ("DESCRIPCION" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."SINIESTRO" MODIFY ("ID_SINIESTRO" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table DIRECCION
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."DIRECCION" ADD CONSTRAINT "DIRECCION_PK" PRIMARY KEY ("ID_DIRECCION")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "ESCUELASOA3"."DIRECCION" MODIFY ("ID_LOCALIDAD" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."DIRECCION" MODIFY ("NUMERO" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."DIRECCION" MODIFY ("CALLE" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."DIRECCION" MODIFY ("ID_DIRECCION" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table LOCALIDAD
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."LOCALIDAD" ADD CONSTRAINT "LOCALIDAD_PK" PRIMARY KEY ("ID_LOCALIDAD")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "ESCUELASOA3"."LOCALIDAD" MODIFY ("ID_PROVINCIA" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."LOCALIDAD" MODIFY ("CODIGOPOSTAL" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."LOCALIDAD" MODIFY ("NOMBRE" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."LOCALIDAD" MODIFY ("ID_LOCALIDAD" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table POLIZA_COBERTURA
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."POLIZA_COBERTURA" ADD CONSTRAINT "POLIZA_COBERTURA_PK" PRIMARY KEY ("ID_POLIZA", "ID_COBERTURA")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "ESCUELASOA3"."POLIZA_COBERTURA" MODIFY ("ID_COBERTURA" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."POLIZA_COBERTURA" MODIFY ("ID_POLIZA" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table COBERTURA_RIESGO
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."COBERTURA_RIESGO" ADD CONSTRAINT "COBERTURA_RIESGO_PK" PRIMARY KEY ("ID_COBERTURA", "ID_RIESGO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "ESCUELASOA3"."COBERTURA_RIESGO" MODIFY ("ID_RIESGO" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."COBERTURA_RIESGO" MODIFY ("ID_COBERTURA" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table PROVINCIA
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."PROVINCIA" ADD CONSTRAINT "PROVINCIA_PK" PRIMARY KEY ("ID_PROVINCIA")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "ESCUELASOA3"."PROVINCIA" MODIFY ("ID_PAIS" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."PROVINCIA" MODIFY ("NOMBRE" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."PROVINCIA" MODIFY ("ID_PROVINCIA" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table TESTIFICA
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."TESTIFICA" ADD CONSTRAINT "TESTIFICA_PK" PRIMARY KEY ("ID_PERSONA", "ID_SINIESTRO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "ESCUELASOA3"."TESTIFICA" MODIFY ("ID_SINIESTRO" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."TESTIFICA" MODIFY ("ID_PERSONA" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table POLIZACOLECTIVA
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."POLIZACOLECTIVA" ADD CONSTRAINT "POLIZACOLECTIVA_PK" PRIMARY KEY ("ID_POLIZACOLECTIVA")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "ESCUELASOA3"."POLIZACOLECTIVA" MODIFY ("ID_EMPRESA" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."POLIZACOLECTIVA" MODIFY ("ID_ZONACOBERTURA" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."POLIZACOLECTIVA" MODIFY ("ID_POLIZACOLECTIVA" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."POLIZACOLECTIVA" MODIFY ("COMISION" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."POLIZACOLECTIVA" MODIFY ("PREMIO" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."POLIZACOLECTIVA" MODIFY ("PRIMA" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."POLIZACOLECTIVA" MODIFY ("FECHAINICIOVALIDEZ" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."POLIZACOLECTIVA" MODIFY ("FECHACONTRATO" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table PUESTOTRABAJO
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."PUESTOTRABAJO" ADD CONSTRAINT "PUESTOTRABAJO_PK" PRIMARY KEY ("ID_PUESTOTRABAJO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "ESCUELASOA3"."PUESTOTRABAJO" MODIFY ("DESCRIPCION" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."PUESTOTRABAJO" MODIFY ("ID_PUESTOTRABAJO" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table RUBRO
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."RUBRO" ADD CONSTRAINT "RUBRO_PK" PRIMARY KEY ("ID_RUBRO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "ESCUELASOA3"."RUBRO" MODIFY ("NOMBRE" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."RUBRO" MODIFY ("ID_RUBRO" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table NIVELRIESGO
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."NIVELRIESGO" ADD CONSTRAINT "NIVELRIESGO_PK" PRIMARY KEY ("ID_NIVELRIESGO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "ESCUELASOA3"."NIVELRIESGO" MODIFY ("DESCRIPCION" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."NIVELRIESGO" MODIFY ("ID_NIVELRIESGO" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table EMPRESA
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."EMPRESA" ADD CONSTRAINT "EMPRESA_PK" PRIMARY KEY ("ID_EMPRESA")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "ESCUELASOA3"."EMPRESA" MODIFY ("ID_RUBRO" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."EMPRESA" MODIFY ("ID_DIRECCION" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."EMPRESA" MODIFY ("ID_EMPRESA" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."EMPRESA" MODIFY ("CUIT" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."EMPRESA" MODIFY ("RAZONSOCIAL" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table EMPLEADO
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."EMPLEADO" ADD CONSTRAINT "EMPLEADO_PK" PRIMARY KEY ("ID_EMPLEADO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "ESCUELASOA3"."EMPLEADO" MODIFY ("ID_PUESTOTRABAJO" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."EMPLEADO" MODIFY ("ID_PERSONA" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."EMPLEADO" MODIFY ("ID_EMPRESA" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."EMPLEADO" MODIFY ("NROLEGAJO" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."EMPLEADO" MODIFY ("CUIL" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."EMPLEADO" MODIFY ("ID_EMPLEADO" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table POLIZAINDIVIDUAL
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."POLIZAINDIVIDUAL" ADD CONSTRAINT "POLIZA_PK" PRIMARY KEY ("ID_POLIZAINDIVIDUAL")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "ESCUELASOA3"."POLIZAINDIVIDUAL" MODIFY ("ID_EMPLEADO" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."POLIZAINDIVIDUAL" MODIFY ("ID_ZONACOBERTURA" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."POLIZAINDIVIDUAL" MODIFY ("ID_EMPRESA" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."POLIZAINDIVIDUAL" MODIFY ("ID_POLIZAINDIVIDUAL" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."POLIZAINDIVIDUAL" MODIFY ("COMISION" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."POLIZAINDIVIDUAL" MODIFY ("PREMIO" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."POLIZAINDIVIDUAL" MODIFY ("PRIMA" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."POLIZAINDIVIDUAL" MODIFY ("FECHAINICIOVALIDEZ" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."POLIZAINDIVIDUAL" MODIFY ("FECHACONTRATO" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table RIESGO
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."RIESGO" ADD CONSTRAINT "RIESGO_PK" PRIMARY KEY ("ID_RIESGO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "ESCUELASOA3"."RIESGO" MODIFY ("ID_PUESTOTRABAJO" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."RIESGO" MODIFY ("ID_ZONACOBERTURA" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."RIESGO" MODIFY ("ID_NIVELRIESGO" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."RIESGO" MODIFY ("FECHAINICIO" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."RIESGO" MODIFY ("VALOR" NOT NULL ENABLE);
  ALTER TABLE "ESCUELASOA3"."RIESGO" MODIFY ("ID_RIESGO" NOT NULL ENABLE);
--------------------------------------------------------
--  Ref Constraints for Table COBERTURA_RIESGO
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."COBERTURA_RIESGO" ADD CONSTRAINT "FK_ASS_12" FOREIGN KEY ("ID_COBERTURA")
	  REFERENCES "ESCUELASOA3"."COBERTURA" ("ID_COBERTURA") ENABLE;
  ALTER TABLE "ESCUELASOA3"."COBERTURA_RIESGO" ADD CONSTRAINT "FK_ASS_13" FOREIGN KEY ("ID_RIESGO")
	  REFERENCES "ESCUELASOA3"."RIESGO" ("ID_RIESGO") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table DIRECCION
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."DIRECCION" ADD CONSTRAINT "DIRECCION_LOCALIDAD_FK" FOREIGN KEY ("ID_LOCALIDAD")
	  REFERENCES "ESCUELASOA3"."LOCALIDAD" ("ID_LOCALIDAD") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table EMPLEADO
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."EMPLEADO" ADD CONSTRAINT "EMPLEADO_EMPRESA_FK" FOREIGN KEY ("ID_EMPRESA")
	  REFERENCES "ESCUELASOA3"."EMPRESA" ("ID_EMPRESA") ENABLE;
  ALTER TABLE "ESCUELASOA3"."EMPLEADO" ADD CONSTRAINT "EMPLEADO_GRUPO_FK" FOREIGN KEY ("ID_GRUPO")
	  REFERENCES "ESCUELASOA3"."GRUPO" ("ID_GRUPO") ENABLE;
  ALTER TABLE "ESCUELASOA3"."EMPLEADO" ADD CONSTRAINT "EMPLEADO_PERSONA_FKV2" FOREIGN KEY ("ID_PERSONA")
	  REFERENCES "ESCUELASOA3"."PERSONA" ("ID_PERSONA") ON DELETE CASCADE ENABLE;
  ALTER TABLE "ESCUELASOA3"."EMPLEADO" ADD CONSTRAINT "EMPLEADO_PUESTOTRABAJO_FK" FOREIGN KEY ("ID_PUESTOTRABAJO")
	  REFERENCES "ESCUELASOA3"."PUESTOTRABAJO" ("ID_PUESTOTRABAJO") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table EMPRESA
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."EMPRESA" ADD CONSTRAINT "EMPRESA_DIRECCION_FK" FOREIGN KEY ("ID_DIRECCION")
	  REFERENCES "ESCUELASOA3"."DIRECCION" ("ID_DIRECCION") ENABLE;
  ALTER TABLE "ESCUELASOA3"."EMPRESA" ADD CONSTRAINT "EMPRESA_RUBRO_FK" FOREIGN KEY ("ID_RUBRO")
	  REFERENCES "ESCUELASOA3"."RUBRO" ("ID_RUBRO") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table GRUPO
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."GRUPO" ADD CONSTRAINT "GRUPO_POLIZACOLECTIVA_FK" FOREIGN KEY ("POLIZACOLECTIVA_ID_PC")
	  REFERENCES "ESCUELASOA3"."POLIZACOLECTIVA" ("ID_POLIZACOLECTIVA") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table LOCALIDAD
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."LOCALIDAD" ADD CONSTRAINT "LOCALIDAD_PROVINCIA_FK" FOREIGN KEY ("ID_PROVINCIA")
	  REFERENCES "ESCUELASOA3"."PROVINCIA" ("ID_PROVINCIA") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table PERSONA
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."PERSONA" ADD CONSTRAINT "PERSONA_DIRECCION_FK" FOREIGN KEY ("ID_DIRECCION")
	  REFERENCES "ESCUELASOA3"."DIRECCION" ("ID_DIRECCION") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table PLAN_COBERTURA
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."PLAN_COBERTURA" ADD CONSTRAINT "FK_ASS_10" FOREIGN KEY ("ID_COBERTURA")
	  REFERENCES "ESCUELASOA3"."COBERTURA" ("ID_COBERTURA") ENABLE;
  ALTER TABLE "ESCUELASOA3"."PLAN_COBERTURA" ADD CONSTRAINT "FK_ASS_9" FOREIGN KEY ("ID_PLAN")
	  REFERENCES "ESCUELASOA3"."PLAN" ("ID_PLAN") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table POLIZA_COBERTURA
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."POLIZA_COBERTURA" ADD CONSTRAINT "FK_ASS_14" FOREIGN KEY ("ID_POLIZA")
	  REFERENCES "ESCUELASOA3"."POLIZAINDIVIDUAL" ("ID_POLIZAINDIVIDUAL") ENABLE;
  ALTER TABLE "ESCUELASOA3"."POLIZA_COBERTURA" ADD CONSTRAINT "FK_ASS_15" FOREIGN KEY ("ID_COBERTURA")
	  REFERENCES "ESCUELASOA3"."COBERTURA" ("ID_COBERTURA") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table POLIZACOLECTIVA
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."POLIZACOLECTIVA" ADD CONSTRAINT "POLIZACOLECTIVA_EMPRESA_FK" FOREIGN KEY ("ID_EMPRESA")
	  REFERENCES "ESCUELASOA3"."EMPRESA" ("ID_EMPRESA") ENABLE;
  ALTER TABLE "ESCUELASOA3"."POLIZACOLECTIVA" ADD CONSTRAINT "POLIZACOLECTIVA_PLAN_FK" FOREIGN KEY ("ID_PLAN")
	  REFERENCES "ESCUELASOA3"."PLAN" ("ID_PLAN") ENABLE;
  ALTER TABLE "ESCUELASOA3"."POLIZACOLECTIVA" ADD CONSTRAINT "POLIZACOLECTIVA_PRODUCTOR_FK" FOREIGN KEY ("ID_PRODUCTOR")
	  REFERENCES "ESCUELASOA3"."PRODUCTOR" ("ID_PRODUCTOR") ENABLE;
  ALTER TABLE "ESCUELASOA3"."POLIZACOLECTIVA" ADD CONSTRAINT "POLIZACOLECTIVA_ZONACOB_FK" FOREIGN KEY ("ID_ZONACOBERTURA")
	  REFERENCES "ESCUELASOA3"."ZONACOBERTURA" ("ID_ZONACOBERTURA") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table POLIZACOLECTIVA_COBERTURA
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."POLIZACOLECTIVA_COBERTURA" ADD CONSTRAINT "FK_ASS_3" FOREIGN KEY ("POLIZACOLECTIVA_ID_PC")
	  REFERENCES "ESCUELASOA3"."POLIZACOLECTIVA" ("ID_POLIZACOLECTIVA") ENABLE;
  ALTER TABLE "ESCUELASOA3"."POLIZACOLECTIVA_COBERTURA" ADD CONSTRAINT "FK_ASS_4" FOREIGN KEY ("ID_COBERTURA")
	  REFERENCES "ESCUELASOA3"."COBERTURA" ("ID_COBERTURA") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table POLIZAINDIVIDUAL
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."POLIZAINDIVIDUAL" ADD CONSTRAINT "POLIZAINDIVIDUAL_PLAN_FK" FOREIGN KEY ("ID_PLAN")
	  REFERENCES "ESCUELASOA3"."PLAN" ("ID_PLAN") ENABLE;
  ALTER TABLE "ESCUELASOA3"."POLIZAINDIVIDUAL" ADD CONSTRAINT "POLIZA_EMPLEADO_FK" FOREIGN KEY ("ID_EMPLEADO")
	  REFERENCES "ESCUELASOA3"."EMPLEADO" ("ID_EMPLEADO") ENABLE;
  ALTER TABLE "ESCUELASOA3"."POLIZAINDIVIDUAL" ADD CONSTRAINT "POLIZA_EMPRESA_FK" FOREIGN KEY ("ID_EMPRESA")
	  REFERENCES "ESCUELASOA3"."EMPRESA" ("ID_EMPRESA") ENABLE;
  ALTER TABLE "ESCUELASOA3"."POLIZAINDIVIDUAL" ADD CONSTRAINT "POLIZA_PRODUCTOR_FK" FOREIGN KEY ("ID_PRODUCTOR")
	  REFERENCES "ESCUELASOA3"."PRODUCTOR" ("ID_PRODUCTOR") ENABLE;
  ALTER TABLE "ESCUELASOA3"."POLIZAINDIVIDUAL" ADD CONSTRAINT "POLIZA_ZONACOBERTURA_FK" FOREIGN KEY ("ID_ZONACOBERTURA")
	  REFERENCES "ESCUELASOA3"."ZONACOBERTURA" ("ID_ZONACOBERTURA") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table PRODUCTOR
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."PRODUCTOR" ADD CONSTRAINT "PRODUCTOR_PERSONA_FK" FOREIGN KEY ("ID_PERSONA")
	  REFERENCES "ESCUELASOA3"."PERSONA" ("ID_PERSONA") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table PROVINCIA
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."PROVINCIA" ADD CONSTRAINT "PROVINCIA_PAIS_FK" FOREIGN KEY ("ID_PAIS")
	  REFERENCES "ESCUELASOA3"."PAIS" ("ID_PAIS") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table RIESGO
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."RIESGO" ADD CONSTRAINT "RIESGO_NIVELRIESGO_FK" FOREIGN KEY ("ID_NIVELRIESGO")
	  REFERENCES "ESCUELASOA3"."NIVELRIESGO" ("ID_NIVELRIESGO") ENABLE;
  ALTER TABLE "ESCUELASOA3"."RIESGO" ADD CONSTRAINT "RIESGO_PUESTOTRABAJO_FK" FOREIGN KEY ("ID_PUESTOTRABAJO")
	  REFERENCES "ESCUELASOA3"."PUESTOTRABAJO" ("ID_PUESTOTRABAJO") ENABLE;
  ALTER TABLE "ESCUELASOA3"."RIESGO" ADD CONSTRAINT "RIESGO_ZONACOBERTURA_FK" FOREIGN KEY ("ID_ZONACOBERTURA")
	  REFERENCES "ESCUELASOA3"."ZONACOBERTURA" ("ID_ZONACOBERTURA") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table SINIESTRO
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."SINIESTRO" ADD CONSTRAINT "SINIESTRO_COBERTURA_FK" FOREIGN KEY ("ID_COBERTURA")
	  REFERENCES "ESCUELASOA3"."COBERTURA" ("ID_COBERTURA") ENABLE;
  ALTER TABLE "ESCUELASOA3"."SINIESTRO" ADD CONSTRAINT "SINIESTRO_EMPLEADO_FK" FOREIGN KEY ("ID_EMPLEADO")
	  REFERENCES "ESCUELASOA3"."EMPLEADO" ("ID_EMPLEADO") ENABLE;
  ALTER TABLE "ESCUELASOA3"."SINIESTRO" ADD CONSTRAINT "SINIESTRO_POLIZACOLECTIVA_FK" FOREIGN KEY ("POLIZACOLECTIVA_ID_PC")
	  REFERENCES "ESCUELASOA3"."POLIZACOLECTIVA" ("ID_POLIZACOLECTIVA") ENABLE;
  ALTER TABLE "ESCUELASOA3"."SINIESTRO" ADD CONSTRAINT "SINIESTRO_POLIZA_FK" FOREIGN KEY ("ID_POLIZA")
	  REFERENCES "ESCUELASOA3"."POLIZAINDIVIDUAL" ("ID_POLIZAINDIVIDUAL") ENABLE;
  ALTER TABLE "ESCUELASOA3"."SINIESTRO" ADD CONSTRAINT "SINIESTRO_PUESTOTRABAJO_FK" FOREIGN KEY ("ID_PUESTOTRABAJO")
	  REFERENCES "ESCUELASOA3"."PUESTOTRABAJO" ("ID_PUESTOTRABAJO") ENABLE;
  ALTER TABLE "ESCUELASOA3"."SINIESTRO" ADD CONSTRAINT "SINIESTRO_ZONACOBERTURA_FK" FOREIGN KEY ("ID_ZONACOBERTURA")
	  REFERENCES "ESCUELASOA3"."ZONACOBERTURA" ("ID_ZONACOBERTURA") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table TELEFONO
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."TELEFONO" ADD CONSTRAINT "TELEFONO_EMPRESA_FK" FOREIGN KEY ("ID_EMPRESA")
	  REFERENCES "ESCUELASOA3"."EMPRESA" ("ID_EMPRESA") ENABLE;
  ALTER TABLE "ESCUELASOA3"."TELEFONO" ADD CONSTRAINT "TELEFONO_PERSONA_FK" FOREIGN KEY ("ID_PERSONA")
	  REFERENCES "ESCUELASOA3"."PERSONA" ("ID_PERSONA") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table TESTIFICA
--------------------------------------------------------

  ALTER TABLE "ESCUELASOA3"."TESTIFICA" ADD CONSTRAINT "FK_ASS_21" FOREIGN KEY ("ID_PERSONA")
	  REFERENCES "ESCUELASOA3"."PERSONA" ("ID_PERSONA") ENABLE;
  ALTER TABLE "ESCUELASOA3"."TESTIFICA" ADD CONSTRAINT "FK_ASS_22" FOREIGN KEY ("ID_SINIESTRO")
	  REFERENCES "ESCUELASOA3"."SINIESTRO" ("ID_SINIESTRO") ENABLE;
--------------------------------------------------------
--  DDL for Function CANTIDADDEPOLIZA
--------------------------------------------------------

  CREATE OR REPLACE FUNCTION "ESCUELASOA3"."CANTIDADDEPOLIZA" (p_productor NUMBER)
RETURN NUMBER IS 
  idproductor PRODUCTOR.ID_PRODUCTOR%TYPE;
  cantidadPoliza NUMBER;

BEGIN
    select id_productor, sum(cantidad) INTO idproductor,cantidadPoliza
    from (
            select id_productor, count(*) as cantidad
            from POLIZAINDIVIDUAL
            where id_productor = p_productor
            group by id_productor
            union all
            select id_productor, count(*) as cantidad
            from POLIZACOLECTIVA
            where id_productor = p_productor
            group by id_productor
          )
                
    group by id_productor;
    RETURN cantidadPoliza;
END cantidadDePoliza;

/
--------------------------------------------------------
--  DDL for Function CANTIDAD_DE_SINIESTROS
--------------------------------------------------------

  CREATE OR REPLACE FUNCTION "ESCUELASOA3"."CANTIDAD_DE_SINIESTROS" 
RETURN SINIESTROINFO IS
  siniestroi siniestroinfo;
BEGIN
  SELECT ID_SINIESTRO, DESCRIPCION INTO siniestroi.IDSINIESTRO, siniestroi.DESCRIPCION  FROM siniestro
  where id_siniestro = 1;
  RETURN (siniestroi);
END cantidad_de_siniestros;

/
--------------------------------------------------------
--  DDL for Function FINDCOURSE
--------------------------------------------------------

  CREATE OR REPLACE FUNCTION "ESCUELASOA3"."FINDCOURSE" 
   ( name_in IN varchar2 )
   RETURN number
IS
   cnumber number;

   cursor c1 is
   SELECT course_number
     FROM courses_tbl
     WHERE course_name = name_in;

BEGIN

   open c1;
   fetch c1 into cnumber;

   if c1%notfound then
      cnumber := 9999;
   end if;

   close c1;

RETURN cnumber;

EXCEPTION
WHEN OTHERS THEN
   raise_application_error(-20001,'An error was encountered - '||SQLCODE||' -ERROR- '||SQLERRM);
END;

/
--------------------------------------------------------
--  DDL for Function LAST_FIRST_NAME
--------------------------------------------------------

  CREATE OR REPLACE FUNCTION "ESCUELASOA3"."LAST_FIRST_NAME" (empid NUMBER)
  RETURN VARCHAR2 IS
  lastname   persona.apellido%TYPE; -- declare a variable same as last_name
  firstname  persona.nombre%TYPE; -- declare a variable same as first_name
BEGIN
  SELECT apellido, nombre INTO lastname, firstname FROM persona 
    WHERE id_persona = empid;
  RETURN ( 'Persona: ' || empid || ' - ' || UPPER(lastname) 
                                 || ', ' || UPPER(firstname) );
END last_first_name;



create or replace FUNCTION cantidadDePoliza (productor NUMBER)
RETURN NUMBER IS 
  idproductor PRODUCTOR.ID_PRODUCTOR%TYPE;
  cantidadPoliza NUMBER;

BEGIN

select id_productor, sum(cantidad) INTO idproductor,cantidadPoliza
from (
            select id_productor, count(*) as cantidad
            from POLIZAINDIVIDUAL
            where id_productor = productor
            group by id_productor
            union all
            select id_productor, count(*) as cantidad
            where id_productor = productor
            from POLIZACOLECTIVA
            group by id_productor)
            
group by id_productor;
RETURN ('La cantidad de polizas es:'|| cantidadPoliza);
END cantidadDePoliza;

/
--------------------------------------------------------
--  DDL for Package ART_PAQUETE
--------------------------------------------------------

  CREATE OR REPLACE PACKAGE "ESCUELASOA3"."ART_PAQUETE" is
    TYPE cartera IS RECORD (
      FECHACONTRATO  polizaindividual.FECHACONTRATO%TYPE,
      FECHAINICIOVALIDEZ     polizaindividual.FECHAINICIOVALIDEZ%TYPE,
      FECHAFINVALIDEZ   polizaindividual.FECHAFINVALIDEZ%TYPE,
      PRIMA    polizaindividual.PRIMA%TYPE,
      PREMIO     polizaindividual.PREMIO%TYPE,
      COMISION      polizaindividual.COMISION%TYPE,
      ID_POLIZA      polizaindividual.ID_POLIZAINDIVIDUAL%TYPE,
      ID_EMPRESA      polizaindividual.ID_EMPRESA%TYPE,
      ID_ZONACOBERTURA      polizaindividual.ID_ZONACOBERTURA%TYPE,
      ID_PRODUCTOR      polizaindividual.ID_PRODUCTOR%TYPE,
      ID_PLAN      polizaindividual.ID_PLAN%TYPE,
      ID_EMPLEADO      polizaindividual.ID_EMPLEADO%TYPE,
      TIPO      VARCHAR(255)
    );

    FUNCTION get_poliza_individual (P_id_poliza NUMBER) RETURN polizaindividual%ROWTYPE;
    FUNCTION get_poliza_colectiva (P_id_poliza NUMBER) RETURN polizacolectiva%ROWTYPE;
    FUNCTION get_cartera(P_id_productor NUMBER) RETURN SYS_REFCURSOR;
    FUNCTION get_cartera_individual(P_id_productor NUMBER) RETURN SYS_REFCURSOR;
    FUNCTION get_cartera_colectiva(P_id_productor NUMBER) RETURN SYS_REFCURSOR;
    FUNCTION get_cliente (P_cuit NUMBER) RETURN empresa.id_empresa%type;
    FUNCTION get_polizas_de_cliente(P_id_empresa NUMBER) RETURN SYS_REFCURSOR;
end art_paquete;

/
--------------------------------------------------------
--  DDL for Package ASDF
--------------------------------------------------------

  CREATE OR REPLACE PACKAGE "ESCUELASOA3"."ASDF" is
    TYPE persona_poliza IS RECORD (
      id_poliza  polizaindividual.id_polizaindividual%TYPE,
      nombre     persona.nombre%TYPE,
      apellido   persona.apellido%TYPE,
      tipodoc    persona.tipodoc%TYPE,
      nrodoc     persona.nrodoc%TYPE,
      email      persona.email%TYPE
    );
    FUNCTION get_persona_poliza_i (P_id_poliza NUMBER)  RETURN persona_poliza;
    FUNCTION get_persona_poliza_c (P_id_poliza NUMBER)  RETURN persona_poliza;
    FUNCTION cant_siniestros_entre_fechas(P_fecha_inicio DATE, P_fecha_fin DATE) RETURN NUMBER;
    FUNCTION cant_siniestros_por_documento(P_tipodoc VARCHAR, P_nrodoc VARCHAR) RETURN NUMBER;
    FUNCTION cant_siniestros_por_poliza_i(P_idpolizaindividual NUMBER) RETURN NUMBER;
    FUNCTION cant_siniestros_por_poliza_c(P_idpolizacolectiva NUMBER) RETURN NUMBER;
    FUNCTION cant_personas_entre_edades(P_edad_inicio NUMBER, P_edad_fin NUMBER) RETURN NUMBER;
    CURSOR cinco_coberturas_mas_usadas IS SELECT * FROM 
      (SELECT c.id_cobertura, c.descripcion, count(*) AS c_count 
       FROM cobertura c 
       LEFT JOIN (SELECT * FROM poliza_cobertura UNION ALL select * FROM polizacolectiva_cobertura) pc ON c.id_cobertura = pc.id_cobertura 
       GROUP BY c.id_cobertura, c.descripcion 
       ORDER BY c_count DESC) WHERE rownum <= 5; 
    CURSOR empleados_nacimiento_e_fechas(P_fecha_inicio DATE, P_fecha_fin DATE) IS 
      SELECT * FROM EMPLEADO
      LEFT JOIN persona on persona.id_persona = empleado.id_persona
      WHERE persona.fechanacimiento BETWEEN P_fecha_inicio AND P_fecha_fin;
end asdf;

/
--------------------------------------------------------
--  DDL for Package EJERCICIO
--------------------------------------------------------

  CREATE OR REPLACE PACKAGE "ESCUELASOA3"."EJERCICIO" is

FUNCTION cantidad_polizas (p_tipodoc in varchar2, p_nrodoc in varchar2) return integer;

Function cantidad_polizascol (p_cuit in number) return integer;

Function obtenerProductor (p_id_productor in PRODUCTOR.ID_PRODUCTOR%type) return sys_refcursor;

Function get_carteracol (p_id_productor in PRODUCTOR.ID_PRODUCTOR%type) return sys_refcursor;

Function get_carteraind (p_id_productor in PRODUCTOR.ID_PRODUCTOR%type) return sys_refcursor;

end ejercicio;

/
--------------------------------------------------------
--  DDL for Package EJERCICIO2
--------------------------------------------------------

  CREATE OR REPLACE PACKAGE "ESCUELASOA3"."EJERCICIO2" AS 

  Function cantidad_polizascol (p_nrodoc in varchar2, p_tipodoc in varchar2) return integer;
  
END EJERCICIO2;

/
--------------------------------------------------------
--  DDL for Package FUNCIONES_CURSORES_PKG
--------------------------------------------------------

  CREATE OR REPLACE PACKAGE "ESCUELASOA3"."FUNCIONES_CURSORES_PKG" AS
	CURSOR c_PolizaInd(p_NumProductor IN productor.ID_PRODUCTOR%TYPE)
		IS  SELECT * 
			FROM productor p 
			WHERE p.ID_PRODUCTOR = p_NumProductor;
	
	CURSOR c_Asegurado RETURN empleado%ROWTYPE
		IS  SELECT *
			FROM empleado emp;
			
	FUNCTION get_procuctores(p_IdProductor IN productor.ID_PRODUCTOR%TYPE) RETURN c_PolizaInd;
	
	PROCEDURE get_asegurados_fecha(p_FechaInicio IN DATE,p_FechaFin IN DATE,asegurado OUT c_Asegurado );
	
END funciones_cursores_pkg;

/
--------------------------------------------------------
--  DDL for Package MY_PAQUETE
--------------------------------------------------------

  CREATE OR REPLACE PACKAGE "ESCUELASOA3"."MY_PAQUETE" AS
  PROCEDURE cambiar_nombre_apellido(p_id_persona persona.id_persona%type, p_nombre persona.nombre%type, p_apellido persona.apellido%type );
  FUNCTION CANTIDADDEPOLIZA (p_productor NUMBER)
  RETURN NUMBER;
END my_paquete;

/
--------------------------------------------------------
--  DDL for Package MY_VAR_PKG
--------------------------------------------------------

  CREATE OR REPLACE PACKAGE "ESCUELASOA3"."MY_VAR_PKG" AS
  PROCEDURE update_email(p_email persona.email%type);
  FUNCTION last_first_name (empid NUMBER)
  RETURN VARCHAR2;
    my_var_pi  NUMBER := 3.14016408289008292431940027343666863227;
    my_var_sales_tax  NUMBER := 0.0825;
END my_var_pkg;
---------------------------------------------------
-------CREATION OF PACKAGE BODY
create or replace PACKAGE BODY my_var_pkg AS
	PROCEDURE update_email(p_email persona.email%type) AS
	  TYPE EmpRec IS RECORD (
		last_name  persona.apellido%TYPE,
		email     persona.email%TYPE
	  );
	  emp_info    EmpRec;
	  old_email  persona.email%TYPE;
	  new_email  persona.email%TYPE;

	BEGIN
	  SELECT email INTO old_email
	   FROM persona
	   WHERE id_persona = 21;
	 
	  new_email := p_email;
	 
	  UPDATE persona
		SET email = new_email
		WHERE id_persona = 21
		RETURNING apellido, email INTO emp_info;
	 
	  DBMS_OUTPUT.PUT_LINE (
		'Siguiente persona: ' || emp_info.last_name || ' se le modificó el email: ' ||
		old_email || ' ---> ' || emp_info.email  );
	END update_email;
	------------------------------------------------------
	FUNCTION last_first_name (empid NUMBER)
	  RETURN VARCHAR2 IS
	  lastname   persona.apellido%TYPE; -- declare a variable same as last_name
	  firstname  persona.nombre%TYPE; -- declare a variable same as first_name
	BEGIN
	  SELECT apellido, nombre INTO lastname, firstname FROM persona 
		WHERE id_persona = empid;
	  RETURN ( 'Persona: ' || empid || ' - ' || UPPER(lastname) 
									 || ', ' || UPPER(firstname) );
	END last_first_name; 
END my_var_pkg;

-------BLOQUE ANONIMO PARA LLAMAR A FUNCTION/PROCEDURE DE UN PACKAGE
BEGIN
  MY_VAR_PKG.update_email('lionel.messi@gmail.com');
exception 
when others then dbms_output.put_line(sqlerrm);
END;

/
--------------------------------------------------------
--  DDL for Package TAREA_ACTUALIZAR_PKG
--------------------------------------------------------

  CREATE OR REPLACE PACKAGE "ESCUELASOA3"."TAREA_ACTUALIZAR_PKG" AS
TYPE r_data_polizaInd IS RECORD(
	v_id_poliza polizaindividual.ID_POLIZAINDIVIDUAL%type,
	v_tipodni persona.TIPODOC%type,
	v_numdoc persona.NRODOC%type,
	v_id_tomador polizaindividual.id_empresa%type,
	v_name_tomador empresa.razonsocial%type,
	v_contacto persona.EMAIL%type
	);
FUNCTION tomador_polizaIndividual(p_idpoliza POLIZAINDIVIDUAL.id_empresa%type) RETURN r_data_polizaInd; /*dado una id poliza y un tipo devuelve datos de la misma*/



END tarea_actualizar_pkg;

/
--------------------------------------------------------
--  DDL for Package TEST_PKG
--------------------------------------------------------

  CREATE OR REPLACE PACKAGE "ESCUELASOA3"."TEST_PKG" as 
	  TYPE EmpRec IS RECORD (
		last_name  persona.apellido%TYPE,
		email     persona.email%TYPE
	  );
 	FUNCTION last_first_name (empid NUMBER)	  RETURN EmpRec   ;
    
end test_pkg;

/
--------------------------------------------------------
--  DDL for Package UN_TEST
--------------------------------------------------------

  CREATE OR REPLACE PACKAGE "ESCUELASOA3"."UN_TEST" IS

  TYPE PERSONAINFO IS RECORD (
      nombre persona.nombre%type,
      apellido persona.apellido%type,
      nro_dni persona.nrodoc%type
    );
    
FUNCTION informacion_gente (p_idgente persona.id_persona%type) RETURN PERSONAINFO;
FUNCTION get_poliza_de_productor(p_idproductor NUMBER) RETURN SYS_REFCURSOR;
PROCEDURE get_asegurado_entre_fechaDeNacimiento(P_FECHA1 DATE, P_FECHA2 DATE) RETURN SYS_REFCURSOR;
END un_test;

/
--------------------------------------------------------
--  DDL for Package Body ART_PAQUETE
--------------------------------------------------------

  CREATE OR REPLACE PACKAGE BODY "ESCUELASOA3"."ART_PAQUETE" IS
    FUNCTION get_poliza_individual (P_id_poliza NUMBER) RETURN  polizaindividual%ROWTYPE IS
      poliza polizaindividual%ROWTYPE;
    BEGIN
      SELECT * INTO poliza FROM polizaindividual     
      WHERE id_polizaindividual = P_id_poliza;
      
      RETURN poliza;
    END get_poliza_individual;
    
    FUNCTION get_poliza_colectiva (P_id_poliza NUMBER) RETURN  polizacolectiva%ROWTYPE IS
      poliza polizacolectiva%ROWTYPE;
    BEGIN
      SELECT * INTO poliza FROM polizacolectiva     
      WHERE id_polizacolectiva = P_id_poliza;
      
      RETURN poliza;
    END get_poliza_colectiva;
    
    FUNCTION get_cartera (P_id_productor NUMBER)
    RETURN SYS_REFCURSOR IS 
      cursorpoliza sys_refcursor;
    BEGIN 
      OPEN cursorpoliza FOR
             SELECT p.FECHACONTRATO ,
                    p.FECHAINICIOVALIDEZ ,
                    p.FECHAFINVALIDEZ ,
                    p.PRIMA ,
                    p.PREMIO ,
                    p.COMISION ,
                    p.ID_POLIZAINDIVIDUAL ,
                    p.ID_EMPRESA ,
                    p.ID_ZONACOBERTURA ,
                    p.ID_PRODUCTOR ,
                    p.ID_PLAN ,
                    p.ID_EMPLEADO,
                    'individual' as tipo_poliza
             FROM  polizaindividual p  
             where p.id_productor = P_id_productor
             union all
             SELECT pc.FECHACONTRATO ,
                    pc.FECHAINICIOVALIDEZ ,
                    pc.FECHAFINVALIDEZ ,
                    pc.PRIMA ,
                    pc.PREMIO ,
                    pc.COMISION ,
                    pc.ID_POLIZACOLECTIVA ,
                    pc.ID_EMPRESA ,
                    pc.ID_ZONACOBERTURA ,
                    pc.ID_PRODUCTOR ,
                    pc.ID_PLAN ,
                    NULL,
                    'colectiva' as tipo_poliza
             FROM  polizacolectiva pc  
             where pc.id_productor = P_id_productor;
    RETURN cursorpoliza;
    END get_cartera;
    
    FUNCTION get_cartera_individual (P_id_productor NUMBER)
    RETURN SYS_REFCURSOR IS 
      cursorpoliza sys_refcursor;
    BEGIN 
      OPEN cursorpoliza FOR
             SELECT * 
             FROM  polizaindividual p  
             where p.id_productor = P_id_productor;
    RETURN cursorpoliza;
  END get_cartera_individual;
  
    FUNCTION get_cartera_colectiva (P_id_productor NUMBER)
    RETURN SYS_REFCURSOR IS 
      cursorpoliza sys_refcursor;
    BEGIN 
      OPEN cursorpoliza FOR
             SELECT * 
             FROM  polizacolectiva p  
             where p.id_productor = P_id_productor;
    RETURN cursorpoliza;
  END get_cartera_colectiva;

    FUNCTION get_cliente (P_cuit NUMBER) 
    RETURN empresa.id_empresa%type IS
      cliente empresa.id_empresa%type;
      BEGIN
        SELECT id_empresa INTO cliente FROM empresa WHERE cuit = P_cuit;
        RETURN cliente;
    END get_cliente;
    
    FUNCTION get_polizas_de_cliente (P_id_empresa NUMBER)
    RETURN SYS_REFCURSOR IS 
      cursorpoliza sys_refcursor;
    BEGIN 
      OPEN cursorpoliza FOR
             SELECT p.FECHACONTRATO ,
                    p.FECHAINICIOVALIDEZ ,
                    p.FECHAFINVALIDEZ ,
                    p.PRIMA ,
                    p.PREMIO ,
                    p.COMISION ,
                    p.ID_POLIZAINDIVIDUAL ,
                    p.ID_EMPRESA ,
                    p.ID_ZONACOBERTURA ,
                    p.ID_PRODUCTOR ,
                    p.ID_PLAN ,
                    p.ID_EMPLEADO,
                    'individual' as tipo_poliza
             FROM  polizaindividual p  
             where p.id_empresa = P_id_empresa
             union all
             SELECT pc.FECHACONTRATO ,
                    pc.FECHAINICIOVALIDEZ ,
                    pc.FECHAFINVALIDEZ ,
                    pc.PRIMA ,
                    pc.PREMIO ,
                    pc.COMISION ,
                    pc.ID_POLIZACOLECTIVA ,
                    pc.ID_EMPRESA ,
                    pc.ID_ZONACOBERTURA ,
                    pc.ID_PRODUCTOR ,
                    pc.ID_PLAN ,
                    NULL,
                    'colectiva' as tipo_poliza
             FROM  polizacolectiva pc  
             where pc.id_empresa = P_id_empresa;
    RETURN cursorpoliza;
    END get_polizas_de_cliente;
   
end art_paquete;

/
--------------------------------------------------------
--  DDL for Package Body ASDF
--------------------------------------------------------

  CREATE OR REPLACE PACKAGE BODY "ESCUELASOA3"."ASDF" is 
    FUNCTION get_persona_poliza_i (P_id_poliza NUMBER)  RETURN persona_poliza IS
      info    persona_poliza;
    BEGIN
        SELECT po.id_polizaindividual, pe.nombre, pe.apellido, pe.tipodoc, pe.nrodoc, pe.email 
        INTO info 
        FROM polizaindividual po
        INNER JOIN empleado e ON e.id_empleado = po.id_empleado
        INNER JOIN persona pe ON pe.id_persona = e.id_persona
        WHERE po.id_polizaindividual = P_id_poliza; 
        
        RETURN(info);
      
    END get_persona_poliza_i;
    
    
    FUNCTION get_persona_poliza_c (P_id_poliza NUMBER)  RETURN persona_poliza IS
      info    persona_poliza;
    BEGIN
        SELECT po.id_polizacolectiva, pe.nombre, pe.apellido, pe.tipodoc, pe.nrodoc, pe.email 
        INTO info 
        FROM polizacolectiva po
        INNER JOIN grupo g on g.polizacolectiva_id_pc = po.id_polizacolectiva
        INNER JOIN empleado e ON e.id_grupo = g.id_grupo
        INNER JOIN persona pe ON pe.id_persona = e.id_persona
        WHERE po.id_polizacolectiva = P_id_poliza; 
        
        RETURN(info);
      
    END get_persona_poliza_c;
    
    
    FUNCTION cant_siniestros_entre_fechas(P_fecha_inicio DATE, P_fecha_fin DATE) RETURN NUMBER IS
        cantidad NUMBER;
    BEGIN
        SELECT COUNT(*) 
        INTO cantidad
        FROM siniestro
        WHERE siniestro.fecha BETWEEN P_fecha_inicio AND P_fecha_fin;
        
        RETURN cantidad;
    END cant_siniestros_entre_fechas; 
    
    
    FUNCTION cant_siniestros_por_documento(P_tipodoc VARCHAR, P_nrodoc VARCHAR) RETURN NUMBER IS
        cantidad NUMBER;
    BEGIN
        SELECT COUNT(*) 
        INTO cantidad
        FROM siniestro s
        INNER JOIN empleado e on e.id_empleado = s.id_empleado
        INNER JOIN persona p on p.id_persona = e.id_persona
        WHERE p.tipodoc = P_tipodoc and p.nrodoc = P_nrodoc;
        
        RETURN cantidad;
    END cant_siniestros_por_documento; 
    
    
    FUNCTION cant_siniestros_por_poliza_i(P_idpolizaindividual NUMBER) RETURN NUMBER IS
        cantidad NUMBER;
    BEGIN
        SELECT COUNT(*) 
        INTO cantidad
        FROM siniestro s
        WHERE s.id_poliza = P_idpolizaindividual;
        
        RETURN cantidad;
    END cant_siniestros_por_poliza_i;  
    
    
    FUNCTION cant_siniestros_por_poliza_c(P_idpolizacolectiva NUMBER) RETURN NUMBER IS
        cantidad NUMBER;
    BEGIN
        SELECT COUNT(*) 
        INTO cantidad
        FROM siniestro s
        WHERE s.POLIZACOLECTIVA_ID_PC = P_idpolizacolectiva;
        
        RETURN cantidad;
    END cant_siniestros_por_poliza_c; 
    
    FUNCTION cant_personas_entre_edades(P_edad_inicio NUMBER, P_edad_fin NUMBER) RETURN NUMBER IS
        cantidad NUMBER;
    BEGIN
        SELECT COUNT(*)
        INTO cantidad  
        FROM persona p
        WHERE p.fechanacimiento < ADD_MONTHS(CURRENT_DATE, -12 * P_edad_inicio) AND
              p.fechanacimiento >= ADD_MONTHS(CURRENT_DATE, -12 * (P_edad_fin + 1));
        
        RETURN cantidad;
    END cant_personas_entre_edades;
END asdf;

/
--------------------------------------------------------
--  DDL for Package Body EJERCICIO
--------------------------------------------------------

  CREATE OR REPLACE PACKAGE BODY "ESCUELASOA3"."EJERCICIO" is

FUNCTION cantidad_polizas (p_tipodoc in varchar2, p_nrodoc in varchar2) return integer is
  valor integer;
begin
  select count(*) into valor
  from persona p inner join empleado e on p.ID_PERSONA = e.ID_PERSONA
  left join POLIZAINDIVIDUAL pi on e.id_empleado=pi.ID_EMPLEADO
  where p.nrodoc=p_nrodoc and p.tipodoc=p_tipodoc;
  
  return nvl(valor, 0);


end cantidad_polizas;


Function cantidad_polizascol (p_cuit in number) return integer is
 resultado integer;
 
 begin
 
select count(*) as cantpocol into resultado
 from EMPRESA e
 left join POLIZACOLECTIVA pc on e.id_empresa=pc.id_empresa
 where e.CUIT=p_cuit;
 
 return nvl(resultado, 0);
 
 end cantidad_polizascol;
 
 
 Function obtenerProductor (p_id_productor in PRODUCTOR.ID_PRODUCTOR%type)
   
   return sys_refcursor as p_cursor sys_refcursor;
  
  begin
   
   open p_cursor
   
   for
    
    select *
    from productor
    where id_productor = p_id_productor;
   
   return p_cursor;
  
  end obtenerProductor;  
  
  
  Function get_carteracol (p_id_productor in PRODUCTOR.ID_PRODUCTOR%type)
  
   return sys_refcursor as un_cursor sys_refcursor;
  
    begin
   
     open un_cursor
   
     for
    
     select *
     from polizacolectiva p
     where p_id_productor = p.id_productor; 
     
     return un_cursor;
     
   end get_carteracol;
   
  
  Function get_carteraind (p_id_productor in PRODUCTOR.ID_PRODUCTOR%type)
  
   return sys_refcursor as otro_cursor sys_refcursor;
  
    begin
   
     open otro_cursor
   
     for
    
     select *
     from POLIZAINDIVIDUAL pi
     where p_id_productor = pi.id_productor; 
     
     return otro_cursor;
     
   end get_carteraind;
    
   
   
  

  


end ejercicio;

/
--------------------------------------------------------
--  DDL for Package Body MY_VAR_PKG
--------------------------------------------------------

  CREATE OR REPLACE PACKAGE BODY "ESCUELASOA3"."MY_VAR_PKG" AS
	PROCEDURE update_email(p_email persona.email%type) AS
	  TYPE EmpRec IS RECORD (
		last_name  persona.apellido%TYPE,
		email     persona.email%TYPE
	  );
	  emp_info    EmpRec;
	  old_email  persona.email%TYPE;
	  new_email  persona.email%TYPE;

/
--------------------------------------------------------
--  DDL for Package Body TAREA_ACTUALIZAR_PKG
--------------------------------------------------------

  CREATE OR REPLACE PACKAGE BODY "ESCUELASOA3"."TAREA_ACTUALIZAR_PKG" AS
  
	FUNCTION tomador_polizaIndividual(p_idpoliza POLIZAIDIVIDUAL.id_empresa%type)
	/* dada un id poliza, se busca si existe. Si no existe devuelve un valor representando dicho situacion*/
	RETURN r_data_polizaInd IS
  regPol r_data_polizaInd;
  
	BEGIN
		SELECT *
		FROM PERSONA p INNER JOIN EMPLEADO emp ON(p.ID_PERSONA = emp.ID_PERSONA)
		INNER JOIN POLIZAINDIVIDUAL pol_i on(emp.ID_EMPLEADO = pol_i.ID_EMPLEADO)
		INNER JOIN EMPRESA e ON(pol_i.ID_EMPRESA = pol_i.ID_EMPRESA)
		WHERE pol_i.ID_POLIZAINDIVIDUAL = p_idpoliza;
		RETURNING pol_i.ID_POLIZAINDIVIDUAL, p.TIPODOC, p.NRODOC, pol_i.ID_EMPRESA, e.RAZONSOCIAL, p.EMAIL INTO regPol;
		
		EXCEPTION NO_DATA_FOUND WHEN
			DBMS_OUTPUT.PUT_LINE('No existe esa poliza');
		EXCEPTION OTHERS WHEN 
			DBMS_OUTPUT.PUT_LINE('Otro error:'|| sqlerrm);
	END tomador_polizaIndividual;

	
END tarea_actualizar_pkg;

/
--------------------------------------------------------
--  DDL for Package Body TEST_PKG
--------------------------------------------------------

  CREATE OR REPLACE PACKAGE BODY "ESCUELASOA3"."TEST_PKG" as 
  emp_info    EmpRec;

	FUNCTION last_first_name (empid NUMBER)	  RETURN EmpRec  as
  	  emp_info    EmpRec;
	BEGIN
	  SELECT apellido, email INTO emp_info.last_name ,		emp_info.email   
    FROM persona 
		WHERE id_persona = empid;
	  RETURN emp_info;
	END last_first_name; 
  
end test_pkg;

/
--------------------------------------------------------
--  DDL for Package Body UN_TEST
--------------------------------------------------------

  CREATE OR REPLACE PACKAGE BODY "ESCUELASOA3"."UN_TEST" IS
  FUNCTION informacion_gente(p_idgente persona.id_persona%type) return PERSONAINFO IS
    info personainfo;
    BEGIN 
      SELECT nombre, apellido, nrodoc into info from persona;
      RETURN INFO;
      EXCEPTION 
        WHEN TOO_MANY_ROWS THEN 
        BEGIN
           dbms_output.put_line('hubo muchos encontrados');
        END;
    END informacion_gente;
  
 
  FUNCTION get_poliza_de_productor (p_idproductor NUMBER)
    RETURN SYS_REFCURSOR IS 
      p_recordset sys_refcursor;
    BEGIN 
      OPEN p_recordset FOR
             SELECT p.FECHACONTRATO ,p.FECHAINICIOVALIDEZ ,p.FECHAFINVALIDEZ , p.PRIMA , p.PREMIO , p.COMISION , p.ID_POLIZAINDIVIDUAL ,p.ID_EMPRESA ,p.ID_ZONACOBERTURA ,
                    p.ID_PRODUCTOR ,
                    p.ID_PLAN ,
                    p.ID_EMPLEADO  
             FROM  polizaindividual p  
             where p.id_productor = p_idproductor;
    RETURN p_recordset;
  END get_poliza_de_productor;
END un_test;

/
--------------------------------------------------------
--  DDL for Procedure CAMBIAR_NOMBRE_APELLIDO
--------------------------------------------------------
set define off;

  CREATE OR REPLACE PROCEDURE "ESCUELASOA3"."CAMBIAR_NOMBRE_APELLIDO" (p_idpersona persona.id_persona%type,p_nombre persona.nombre%type, p_apellido persona.apellido%type) AS
TYPE humano is record (
   first_name persona.nombre%type,
   surname persona.apellido%type
);
  humano_info humano;
  
BEGIN
  SELECT Nombre, apellido into humano_info.first_name , humano_info.surname
  FROM PERSONA 
  WHERE ID_PERSONA = p_idpersona;
  
  DBMS_OUTPUT.PUT_LINE('PRIMERO:'|| humano_info.first_name || humano_info.surname);
  
  UPDATE PERSONA 
  SET NOMBRE = p_nombre, apellido = p_apellido
  WHERE  id_persona = p_idpersona
  RETURNING nombre, apellido INTO humano_info;
  
  DBMS_OUTPUT.PUT_LINE( 'SEGUNDO' || humano_info.first_name || humano_info.surname);
END;

/
--------------------------------------------------------
--  DDL for Procedure GETCLIENT
--------------------------------------------------------
set define off;

  CREATE OR REPLACE PROCEDURE "ESCUELASOA3"."GETCLIENT" (p_id_persona IN persona.id_persona%type, clientes out sys_refcursor) is
  begin
  open clientes for
    select id_persona,  nombre, apellido, tipodoc, nrodoc, fechanacimiento
    from persona
    where id_persona = p_id_persona;
    
    exception 
      when no_data_found then
        dbms_output.put_line('no se encontró el cliente ');
      when others then
        dbms_output.put_line('error');
        clientes:=null;
  end GetClient;

/
--------------------------------------------------------
--  DDL for Procedure GET_EMP_RS
--------------------------------------------------------
set define off;

  CREATE OR REPLACE PROCEDURE "ESCUELASOA3"."GET_EMP_RS" (p_QueryChoice IN NUMBER)
RETURNS SYS_REFCURSOR AS 
	v_QueryChoice SYS_REFCURSOR IS REF CURSOR
		RETURN employees%ROWTYPE;
BEGIN
	IF p_QueryChoice = 1 THEN 
		OPEN v_QueryOutput FOR 
			SELECT * FROM employees;
	ELSIF p_QueyiChoice = 2 THEN
		OPEN v_QueryChoice FOR
			SELECT * FROM departments;
	ELSE
		RAISE;
	END IF;
	RETURN v_QueryOutput;
END get_emp_rs; --GetEmpRs


/* ANSI */
SELECT table1.column, table2.column
FROM table1
	[NATURAL JOIN table2] |
	[[INNER] JOIN table2 USING (column_name)] |
	[[INNER] JOIN table2 ON (table1.column_name = table2.column_name)] |
	[LEFT | RIGHT | FULL [OUTER] JOIN table2 ON (table1.column_name = table2.column_name)] |
	[CROSS JOIN table2];
	



/* ORACLE */
SELECT table1.column, table2.column
FROM table1, table2
[WHERE (table1.column_name = table2.column_name)] |
[WHERE (table1.column_name(+)= table2.column_name)] |
[WHERE (table1.column_name= table2.column_name (+))] ;


SELECT
   ID_PRODUCTOR;
       FROM ID_PERSONA;

/
--------------------------------------------------------
--  DDL for Procedure TODAY_IS
--------------------------------------------------------
set define off;

  CREATE OR REPLACE PROCEDURE "ESCUELASOA3"."TODAY_IS" AS
BEGIN
-- display the current system date in long format
  DBMS_OUTPUT.PUT_LINE( 'Today is ' || TO_CHAR(SYSDATE, 'DL') );
END today_is;

/
--------------------------------------------------------
--  DDL for Procedure UPDATE_EMAIL
--------------------------------------------------------
set define off;

  CREATE OR REPLACE PROCEDURE "ESCUELASOA3"."UPDATE_EMAIL" (p_email persona.email%type) AS
  TYPE EmpRec IS RECORD (
    last_name  persona.apellido%TYPE,
    email     persona.email%TYPE
  );
  emp_info    EmpRec;
  old_email  persona.email%TYPE;
  new_email  persona.email%TYPE;

BEGIN
  SELECT email INTO old_email
   FROM persona
   WHERE id_persona = 21;
 
  new_email := p_email;
 
  UPDATE persona
    SET email = new_email
    WHERE id_persona = 21
    RETURNING apellido, email INTO emp_info;
 
  DBMS_OUTPUT.PUT_LINE (
    'Siguiente persona: ' || emp_info.last_name || ' se le modificó el email: ' ||
    old_email || ' ---> ' || emp_info.email  );
END;

/
